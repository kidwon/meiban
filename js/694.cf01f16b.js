"use strict";(self["webpackChunkmeiban_app"]=self["webpackChunkmeiban_app"]||[]).push([[694],{2694:(e,n,t)=>{t.r(n),t.d(n,{ASPECT_CONFIG:()=>c,LIFE_CYCLES:()=>l,PLANET_CYCLES:()=>s,calculateTransitChart:()=>y,generateTransitReport:()=>b});var r=t(8653),a=t(8676),o=t(4119),i=(t(6280),t(6918),t(8706),t(2008),t(1629),t(4423),t(2062),t(4114),t(4782),t(6910),t(1688),t(3288),t(2010),t(8111),t(2489),t(7588),t(1701),t(9868),t(5506),t(9432),t(6099),t(3500),t(3307)),s={sun:{period:365.25,name:"太阳"},moon:{period:29.53,name:"月亮"},mercury:{period:87.97,name:"水星"},venus:{period:224.7,name:"金星"},mars:{period:686.98,name:"火星"},jupiter:{period:4332.59,name:"木星"},saturn:{period:10759.22,name:"土星"},uranus:{period:30688.5,name:"天王星"},neptune:{period:60182,name:"海王星"},pluto:{period:90560,name:"冥王星"}},c={合相:{angle:0,orb:8,intensity:"strong",type:"conjunction"},六分相:{angle:60,orb:4,intensity:"moderate",type:"sextile"},四分相:{angle:90,orb:6,intensity:"strong",type:"square"},三分相:{angle:120,orb:6,intensity:"strong",type:"trine"},对分相:{angle:180,orb:8,intensity:"strong",type:"opposition"}},l={saturn_return_1:{age:29,duration:2,name:"第一次土星回归"},jupiter_return_1:{age:12,duration:1,name:"第一次木星回归"},jupiter_return_2:{age:24,duration:1,name:"第二次木星回归"},jupiter_return_3:{age:36,duration:1,name:"第三次木星回归"},jupiter_return_4:{age:48,duration:1,name:"第四次木星回归"},saturn_opposition:{age:44,duration:2,name:"土星对冲"},saturn_return_2:{age:58,duration:2,name:"第二次土星回归"}};function u(e,n){var t=Math.abs(e-n);return t>180&&(t=360-t),t}function g(e,n,t){return Math.abs(e-n)<=t}function p(e){try{return"number"===typeof e?e:e&&"object"===(0,o.A)(e)?void 0!==e.longitude?e.longitude:(0,i.Y6)(e):(console.warn("无效的位置数据:",e),0)}catch(n){return console.error("度数计算错误:",n,e),0}}function h(e,n){var t=[];try{return Object.keys(n).forEach((function(r){if("ascendant"!==r){var o=n[r],i=p(o);Object.keys(e).forEach((function(n){var l=e[n],h=p(l),f=u(i,h);Object.entries(c).forEach((function(e){var c,u,p=(0,a.A)(e,2),m=p[0],v=p[1];g(f,v.angle,v.orb)&&t.push({transitPlanet:(null===(c=s[r])||void 0===c?void 0:c.name)||r,natalPlanet:(null===(u=s[n])||void 0===u?void 0:u.name)||n,aspect:m,orb:Math.abs(f-v.angle),intensity:v.intensity,type:v.type,applying:i<h,transitSign:o.sign||"未知",natalSign:l.sign||"未知"})}))}))}})),t.sort((function(e,n){return e.orb-n.orb}))}catch(r){return console.error("计算行运相位时出错:",r),[]}}function f(e,n){try{var t=new Date(e).getTime(),o=new Date(n).getTime(),i=(o-t)/315576e5,s=[];return Object.entries(l).forEach((function(e){var n=(0,a.A)(e,2),t=n[0],o=n[1],c=o.age-o.duration/2,l=o.age+o.duration/2;i>=c&&i<=l&&s.push((0,r.A)((0,r.A)({},o),{},{key:t,progress:(i-c)/o.duration}))})),s}catch(c){return console.error("计算生命周期时出错:",c),[]}}function m(e){var n={"月亮-合相":{positive:"情绪和直觉得到强化，是开始新的情感周期的好时机。",challenging:"情绪可能较为强烈，需要学会平衡内在感受。"},"月亮-三分相":{positive:"情感流动顺畅，与他人的关系和谐，直觉力增强。",challenging:"过度依赖情感判断，可能忽略理性分析。"},"月亮-四分相":{positive:"情感挑战促进内在成长，学会处理复杂情绪。",challenging:"情绪波动较大，人际关系可能出现紧张。"},"水星-合相":{positive:"思维敏锐，沟通能力增强，学习新事物的好时机。",challenging:"思绪过于活跃，可能导致焦虑或决策困难。"},"水星-三分相":{positive:"逻辑思维清晰，表达能力强，适合谈判和学习。",challenging:"可能过于理性，忽略情感因素。"},"金星-合相":{positive:"魅力增强，人际关系改善，艺术创造力提升。",challenging:"可能过于注重外表或物质享受。"},"金星-三分相":{positive:"爱情运佳，社交活跃，审美品味提升。",challenging:"可能过于追求和谐，避免必要冲突。"},"土星-合相":{positive:"建立稳固基础，承担重要责任，获得长期成就。",challenging:"压力增大，可能感到限制和负担。"},"土星-三分相":{positive:"通过努力获得稳定成果，责任感增强。",challenging:"可能过于保守，缺乏冒险精神。"},"土星-四分相":{positive:"通过挑战获得成长，建立更强的自律能力。",challenging:"面临重要考验，需要做出艰难决定。"},"天王星-合相":{positive:"突破旧有模式，迎来革命性变化，创新能力强。",challenging:"变化来得突然，可能带来不稳定感。"},"天王星-四分相":{positive:"被迫改变促进个人成长，获得新的自由。",challenging:"面临突发变故，原有计划可能被打乱。"},"海王星-合相":{positive:"精神觉醒，直觉增强，艺术灵感丰富。",challenging:"现实感模糊，可能出现迷惑或逃避。"},"海王星-三分相":{positive:"灵性成长，同理心增强，创造力提升。",challenging:"可能过于理想化，忽视现实问题。"}},t="".concat(e.transitPlanet,"-").concat(e.aspect),r=n[t];if(!r)return"".concat(e.transitPlanet).concat(e.aspect).concat(e.natalPlanet,"：这个相位带来重要的能量交流，容许度").concat(e.orb.toFixed(1),"度。");var a=["三分相","六分相"].includes(e.aspect);return r[a?"positive":"challenging"]}function v(e,n){var t=e.filter((function(e){return["土星","天王星","海王星","冥王星"].includes(e.transitPlanet)})),a={saturn:[],uranus:[],neptune:[],pluto:[]};return t.forEach((function(e){var n={土星:"saturn",天王星:"uranus",海王星:"neptune",冥王星:"pluto"}[e.transitPlanet];n&&a[n].push((0,r.A)((0,r.A)({},e),{},{interpretation:m(e)}))})),(0,r.A)((0,r.A)({},a),{},{summary:d(n)})}function d(e){return e>=42&&e<=46?{phase:"中年转化期",description:"正处于人生的重要转折点，外行星的影响促使您重新评估人生方向和价值观。这是一个深度内省和转化的时期。",keyThemes:["责任与自由的平衡","内在蜕变","事业重新定位","精神觉醒"]}:e>=28&&e<=32?{phase:"成年确立期",description:"土星回归带来成年责任的确立，这是从青年过渡到成熟成年人的关键时期。",keyThemes:["承担责任","建立基础","确立方向","成熟成长"]}:e>=35&&e<=37?{phase:"扩展成长期",description:"木星回归带来新的成长机遇和视野扩展，是追求更高目标的良好时期。",keyThemes:["机遇扩展","视野开阔","学习成长","积极进取"]}:{phase:"稳定发展期",description:"当前处于相对稳定的发展阶段，适合巩固既有成果并为未来做准备。",keyThemes:["稳定发展","积累经验","完善技能","准备机遇"]}}function y(e,n){try{console.log("🌟 开始计算行运盘"),console.log("出生数据:",e),console.log("行运日期:",n),console.log("📍 计算本命盘位置...");var t=(0,i.lc)(e);console.log("本命盘位置:",t),console.log("📍 计算行运盘位置...");var a=(0,r.A)((0,r.A)({},e),{},{fullBirthDateTime:n}),o=(0,i.lc)(a);console.log("行运盘位置:",o);var s=new Date(e.fullBirthDateTime),c=new Date(n),l=(c-s)/315576e5;console.log("当前年龄:",l),console.log("📍 计算相位关系...");var u=h(t,o);console.log("相位关系:",u),console.log("📍 分析生命周期...");var g=f(e.fullBirthDateTime,n);console.log("当前生命周期:",g),console.log("📍 生成外行星分析...");var p=v(u,l);console.log("外行星分析:",p);var m={birthData:e,transitDate:n,age:Math.floor(l),natalPositions:t,transitPositions:o,aspects:u.slice(0,10),currentCycles:g,outerPlanetAnalysis:p,metadata:{calculationTime:(new Date).toISOString(),aspectCount:u.length,majorAspects:u.filter((function(e){return"strong"===e.intensity})).length}};return console.log("✅ 行运盘计算完成"),m}catch(d){throw console.error("❌ 行运盘计算失败:",d),console.error("错误堆栈:",d.stack),new Error("行运盘计算失败: ".concat(d.message))}}function b(e){try{var n=e.age,t=e.aspects,r=e.currentCycles,a=e.outerPlanetAnalysis,o={summary:"".concat(n,"岁的行运分析显示了").concat(t.length,"个重要相位正在发生作用。"),currentPhase:a.summary,majorAspects:t.slice(0,5).map((function(e){return{title:"".concat(e.transitPlanet," ").concat(e.aspect," ").concat(e.natalPlanet),description:m(e),orb:e.orb,intensity:e.intensity}})),lifeCycles:r.map((function(e){return{name:e.name,progress:Math.round(100*e.progress),description:"正在经历".concat(e.name,"，完成度").concat(Math.round(100*e.progress),"%")}})),recommendations:w(e)};return o}catch(i){throw console.error("生成行运报告失败:",i),i}}function w(e){try{var n=e.aspects,t=[],r=n.filter((function(e){return"strong"===e.intensity})).slice(0,3);return r.forEach((function(e){"土星"===e.transitPlanet?t.push({area:"责任与结构",advice:"这是建立长期基础的重要时期，虽然可能面临压力，但坚持下去会有稳固的收获。",timeframe:"未来6-12个月"}):"木星"===e.transitPlanet?t.push({area:"成长与机遇",advice:"积极把握扩展机会，这是学习新技能和拓展视野的良好时机。",timeframe:"未来3-6个月"}):"天王星"===e.transitPlanet&&t.push({area:"变化与创新",advice:"拥抱变化，不要抗拒突如其来的转变，它们可能带来意想不到的机遇。",timeframe:"未来1-2年"})})),t}catch(a){return console.error("生成建议失败:",a),[]}}},9868:(e,n,t)=>{var r=t(6518),a=t(9504),o=t(1291),i=t(1240),s=t(2333),c=t(9039),l=RangeError,u=String,g=Math.floor,p=a(s),h=a("".slice),f=a(1..toFixed),m=function(e,n,t){return 0===n?t:n%2===1?m(e,n-1,t*e):m(e*e,n/2,t)},v=function(e){var n=0,t=e;while(t>=4096)n+=12,t/=4096;while(t>=2)n+=1,t/=2;return n},d=function(e,n,t){var r=-1,a=t;while(++r<6)a+=n*e[r],e[r]=a%1e7,a=g(a/1e7)},y=function(e,n){var t=6,r=0;while(--t>=0)r+=e[t],e[t]=g(r/n),r=r%n*1e7},b=function(e){var n=6,t="";while(--n>=0)if(""!==t||0===n||0!==e[n]){var r=u(e[n]);t=""===t?r:t+p("0",7-r.length)+r}return t},w=c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}));r({target:"Number",proto:!0,forced:w},{toFixed:function(e){var n,t,r,a,s=i(this),c=o(e),g=[0,0,0,0,0,0],f="",w="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(s!==s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(f="-",s=-s),s>1e-21)if(n=v(s*m(2,69,1))-69,t=n<0?s*m(2,-n,1):s/m(2,n,1),t*=4503599627370496,n=52-n,n>0){d(g,0,t),r=c;while(r>=7)d(g,1e7,0),r-=7;d(g,m(10,r,1),0),r=n-1;while(r>=23)y(g,1<<23),r-=23;y(g,1<<r),d(g,1,1),y(g,2),w=b(g)}else d(g,0,t),d(g,1<<-n,0),w=b(g)+p("0",c);return c>0?(a=w.length,w=f+(a<=c?"0."+p("0",c-a)+w:h(w,0,a-c)+"."+h(w,a-c))):w=f+w,w}})}}]);
//# sourceMappingURL=694.cf01f16b.js.map