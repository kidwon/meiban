{"version":3,"file":"js/884.e827f800.js","mappings":"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","sources":["webpack://meiban-app/./src/utils/astrologyDataAdapter.js","webpack://meiban-app/./node_modules/core-js/modules/es.object.from-entries.js"],"sourcesContent":["/**\n * æ˜Ÿç›˜æ•°æ®é€‚é…å™¨ - å¤„ç†APIæ•°æ®æ ¼å¼è½¬æ¢\n * src/utils/astrologyDataAdapter.js\n */\n\n// è¡Œæ˜Ÿä»£ç æ˜ å°„è¡¨\nconst PLANET_CODE_MAP = {\n  '0': 'sun',        // å¤ªé˜³\n  '1': 'moon',       // æœˆäº®\n  '2': 'mercury',    // æ°´æ˜Ÿ\n  '3': 'venus',      // é‡‘æ˜Ÿ\n  '4': 'mars',       // ç«æ˜Ÿ\n  '5': 'jupiter',    // æœ¨æ˜Ÿ\n  '6': 'saturn',     // åœŸæ˜Ÿ\n  '7': 'uranus',     // å¤©ç‹æ˜Ÿ\n  '8': 'neptune',    // æµ·ç‹æ˜Ÿ\n  '9': 'pluto',      // å†¥ç‹æ˜Ÿ\n  't': 'trueNode',   // åŒ—äº¤ç‚¹\n  '10': 'ascendant' // ä¸Šå‡ç‚¹\n};\n\n// æ˜Ÿåº§ä¸­è‹±æ–‡å¯¹ç…§è¡¨\nconst ZODIAC_MAPPING = {\n  'Aries': 'ç™½ç¾Šåº§',\n  'Taurus': 'é‡‘ç‰›åº§', \n  'Gemini': 'åŒå­åº§',\n  'Cancer': 'å·¨èŸ¹åº§',\n  'Leo': 'ç‹®å­åº§',\n  'Virgo': 'å¤„å¥³åº§',\n  'Libra': 'å¤©ç§¤åº§',\n  'Scorpio': 'å¤©èåº§',\n  'Sagittarius': 'å°„æ‰‹åº§',\n  'Capricorn': 'æ‘©ç¾¯åº§',\n  'Aquarius': 'æ°´ç“¶åº§',\n  'Pisces': 'åŒé±¼åº§'\n};\n\n// åå‘æ˜ å°„ï¼ˆä¸­æ–‡åˆ°è‹±æ–‡ï¼‰\nconst ZODIAC_REVERSE_MAPPING = Object.fromEntries(\n  Object.entries(ZODIAC_MAPPING).map(([en, zh]) => [zh, en])\n);\n\n/**\n * è½¬æ¢æ˜Ÿåº§åç§°ï¼ˆè‹±æ–‡åˆ°ä¸­æ–‡ï¼‰\n * @param {string} englishName - è‹±æ–‡æ˜Ÿåº§å\n * @returns {string} ä¸­æ–‡æ˜Ÿåº§å\n */\nfunction convertZodiacName(englishName) {\n  return ZODIAC_MAPPING[englishName] || englishName;\n}\n\n/**\n * ä»APIå“åº”ä¸­æå–è¡Œæ˜Ÿæ•°æ®\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Object} è½¬æ¢åçš„è¡Œæ˜Ÿä½ç½®æ•°æ®\n */\nfunction extractPlanetPositions(apiData) {\n  const positions = {};\n  \n  if (!apiData.planet || !Array.isArray(apiData.planet)) {\n    console.warn('APIæ•°æ®ä¸­ç¼ºå°‘è¡Œæ˜Ÿä¿¡æ¯');\n    return positions;\n  }\n  \n  // éå†APIè¿”å›çš„è¡Œæ˜Ÿæ•°æ®\n  apiData.planet.forEach((planetData) => {\n    const planetKey = PLANET_CODE_MAP[planetData.code_name];\n\n    if (planetKey && planetData.sign) {\n      positions[planetKey] = {\n        sign: convertZodiacName(planetData.sign.sign_english),\n        degree: planetData.sign.deg || 0,\n        minute: planetData.sign.min || 0,\n        second: planetData.sign.sec || 0,\n        longitude: planetData.longitude || 0,\n        // ä¿ç•™åŸå§‹APIæ•°æ®ä»¥å¤‡åç”¨\n        _raw: {\n          code_name: planetData.code_name,\n          planet_english: planetData.planet_english,\n          planet_chinese: planetData.planet_chinese,\n          house_id: planetData.house_id,\n          speed: planetData.speed\n        }\n      };\n    }\n  });\n\n  // ä»å®«ä½æ•°æ®ä¸­æå–ä¸­å¤©ä¿¡æ¯ï¼ˆç¬¬10å®«å®«å¤´å°±æ˜¯ä¸­å¤©ï¼‰\n  if (apiData.house && Array.isArray(apiData.house)) {\n    // æŸ¥æ‰¾ç¬¬10å®«ï¼ˆäº‹ä¸šå®«ï¼‰ï¼Œç¬¬10å®«çš„å®«å¤´å°±æ˜¯ä¸­å¤©\n    const house10 = apiData.house.find(house => house.house_id === 10);\n\n    if (house10 && house10.sign) {\n      positions.midheaven = {\n        sign: convertZodiacName(house10.sign.sign_english),\n        degree: house10.sign.deg || 0,\n        minute: house10.sign.min || 0,\n        second: house10.sign.sec || 0,\n        longitude: house10.longitude || 0,\n        // ä¿ç•™åŸå§‹æ•°æ®\n        _raw: {\n          house_id: house10.house_id,\n          house_life: house10.house_life,\n          sign_english: house10.sign.sign_english,\n          sign_chinese: house10.sign.sign_chinese\n        }\n      };\n    }\n  }\n\n  // æ£€æŸ¥æ˜¯å¦åŒ…å«å¿…è¦çš„ä¸‰è¦ç´ \n  const essentials = ['sun', 'moon', 'ascendant'];\n  const missing = essentials.filter(key => !positions[key]);\n\n  if (missing.length > 0) {\n    console.warn('ç¼ºå°‘é‡è¦è¡Œæ˜Ÿæ•°æ®:', missing);\n  }\n\n  return positions;\n}\n\n/**\n * ä»APIå“åº”ä¸­æå–å®«ä½æ•°æ®\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Object} è½¬æ¢åçš„å®«ä½æ•°æ®\n */\nfunction extractHouseData(apiData) {\n  const houses = {};\n  \n  if (!apiData.house || !Array.isArray(apiData.house)) {\n    console.warn('APIæ•°æ®ä¸­ç¼ºå°‘å®«ä½ä¿¡æ¯');\n    return houses;\n  }\n  \n  apiData.house.forEach(houseData => {\n    const houseNumber = houseData.house_id;\n    \n    houses[houseNumber] = {\n      sign: convertZodiacName(houseData.sign.sign_english),\n      degree: houseData.sign.deg || 0,\n      minute: houseData.sign.min || 0,\n      second: houseData.sign.sec || 0,\n      longitude: houseData.longitude || 0,\n      life_palace: houseData.house_life || '',\n      planets: (houseData.planet_array || []).map(planet => ({\n        code_name: planet.code_name,\n        name: planet.planet_chinese,\n        degree: planet.deg || 0,\n        minute: planet.min || 0,\n        second: planet.sec || 0\n      })),\n      // ä¿ç•™åæ ‡ä¿¡æ¯ç”¨äºç»˜åˆ¶\n      coordinates: {\n        x: houseData.z_x,\n        y: houseData.z_y\n      }\n    };\n  });\n  \n  return houses;\n}\n\n/**\n * ä»APIå“åº”ä¸­æå–ç›¸ä½æ•°æ®\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Array} è½¬æ¢åçš„ç›¸ä½æ•°æ®\n */\nfunction extractAspectData(apiData) {\n  const aspects = [];\n  \n  if (!apiData.planet) {\n    return aspects;\n  }\n  \n  // éå†è¡Œæ˜Ÿçš„ç›¸ä½ä¿¡æ¯\n  apiData.planet.forEach(planetData => {\n    if (planetData.planet_allow_degree && Array.isArray(planetData.planet_allow_degree)) {\n      planetData.planet_allow_degree.forEach(aspect => {\n        const planet1Key = PLANET_CODE_MAP[planetData.code_name];\n        const planet2Key = PLANET_CODE_MAP[aspect.code_name];\n        \n        if (planet1Key && planet2Key) {\n          aspects.push({\n            planet1: planet1Key,\n            planet2: planet2Key,\n            angle: aspect.allow || 0,\n            orb: {\n              degree: aspect.deg || 0,\n              minute: aspect.min || 0,\n              second: aspect.sec || 0\n            },\n            type: aspect.in_out === '1' ? 'applying' : 'separating'\n          });\n        }\n      });\n    }\n  });\n  \n  return aspects;\n}\n\n/**\n * ä»APIå“åº”ä¸­æå–å…ƒç´ åˆ†å¸ƒæ•°æ®\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Object} è½¬æ¢åçš„å…ƒç´ åˆ†å¸ƒæ•°æ®\n */\nfunction extractElementDistribution(apiData) {\n  const distribution = {\n    elements: { fire: 0, earth: 0, air: 0, water: 0 },\n    qualities: { cardinal: 0, fixed: 0, mutable: 0 },\n    polarities: { positive: 0, negative: 0 }\n  };\n  \n  if (!apiData.attribute) {\n    return distribution;\n  }\n  \n  // æ˜ å°„ä¸­æ–‡å…ƒç´ åˆ°è‹±æ–‡\n  const elementMap = {\n    fire: ['ç«ç›¸'],\n    earth: ['åœŸç›¸'], \n    air: ['é£ç›¸'],\n    water: ['æ°´ç›¸']\n  };\n  \n  const qualityMap = {\n    cardinal: ['æœ¬ä½'],\n    fixed: ['å›ºå®š'],\n    mutable: ['å˜åŠ¨']\n  };\n  \n  // ç»Ÿè®¡å„ä¸ªå…ƒç´ å’Œæ€§è´¨çš„åˆ†å¸ƒ\n  Object.entries(apiData.attribute).forEach(([key, planets]) => {\n    if (Array.isArray(planets)) {\n      // æ ¹æ®keyåˆ¤æ–­æ˜¯å“ªç§å±æ€§\n      Object.entries(elementMap).forEach(([element, chineseNames]) => {\n        if (chineseNames.includes(key)) {\n          distribution.elements[element] = planets.length;\n        }\n      });\n      \n      Object.entries(qualityMap).forEach(([quality, chineseNames]) => {\n        if (chineseNames.includes(key)) {\n          distribution.qualities[quality] = planets.length;\n        }\n      });\n    }\n  });\n  \n  return distribution;\n}\n\n/**\n * ç”Ÿæˆè¿åŠ¿è¯„åˆ†ï¼ˆåŸºäºè¡Œæ˜Ÿå¼ºå¼±å’Œç›¸ä½ï¼‰\n * @param {Object} planetPositions - è¡Œæ˜Ÿä½ç½®æ•°æ®\n * @param {Array} aspects - ç›¸ä½æ•°æ®\n * @returns {Object} è¿åŠ¿è¯„åˆ†\n */\nfunction generateFortuneScores(planetPositions, aspects) {\n  // ç®€åŒ–çš„è¿åŠ¿è¯„åˆ†ç®—æ³•\n  const scores = {\n    career: 3,   // äº‹ä¸š\n    wealth: 3,   // è´¢å¯Œ\n    love: 3,     // çˆ±æƒ…\n    health: 3,   // å¥åº·\n    overall: 3   // æ€»ä½“\n  };\n  \n  // åŸºäºå¤ªé˜³å’Œæœˆäº®ä½ç½®è°ƒæ•´åˆ†æ•°\n  if (planetPositions.sun) {\n    // ç«è±¡æ˜Ÿåº§åœ¨äº‹ä¸šä¸Šæœ‰ä¼˜åŠ¿\n    const fireSign = ['ç™½ç¾Šåº§', 'ç‹®å­åº§', 'å°„æ‰‹åº§'];\n    if (fireSign.includes(planetPositions.sun.sign)) {\n      scores.career += 1;\n    }\n  }\n  \n  if (planetPositions.moon) {\n    // æ°´è±¡æ˜Ÿåº§åœ¨æƒ…æ„Ÿä¸Šæ›´æ•æ„Ÿ\n    const waterSign = ['å·¨èŸ¹åº§', 'å¤©èåº§', 'åŒé±¼åº§'];\n    if (waterSign.includes(planetPositions.moon.sign)) {\n      scores.love += 1;\n    }\n  }\n  \n  // åŸºäºç›¸ä½æ•°é‡è°ƒæ•´æ€»ä½“åˆ†æ•°\n  const beneficAspects = aspects.filter(a => [60, 120].includes(a.angle));\n  const maleficAspects = aspects.filter(a => [90, 180].includes(a.angle));\n  \n  scores.overall += beneficAspects.length * 0.5 - maleficAspects.length * 0.3;\n  \n  // ç¡®ä¿åˆ†æ•°åœ¨1-5èŒƒå›´å†…\n  Object.keys(scores).forEach(key => {\n    scores[key] = Math.max(1, Math.min(5, Math.round(scores[key])));\n  });\n  \n  return scores;\n}\n\n/**\n * å°†APIæ•°æ®è½¬æ¢ä¸ºåº”ç”¨å†…éƒ¨æ ¼å¼\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Object} è½¬æ¢åçš„å æ˜Ÿæ•°æ®\n */\nexport function convertApiDataToAppFormat(apiData) {\n  try {\n    console.log('ğŸ”„ å¼€å§‹è½¬æ¢APIæ•°æ®æ ¼å¼');\n    console.log('ğŸ“¥ åŸå§‹APIæ•°æ®:', apiData);\n    \n    // æå–å„ç±»æ•°æ®\n    const planetPositions = extractPlanetPositions(apiData);\n    const houses = extractHouseData(apiData);\n    const aspects = extractAspectData(apiData);\n    const elementDistribution = extractElementDistribution(apiData);\n    \n    // ç”Ÿæˆè¿åŠ¿è¯„åˆ†\n    const fortuneScores = generateFortuneScores(planetPositions, aspects);\n    \n    // æ„å»ºæœ€ç»ˆæ•°æ®ç»“æ„\n    const convertedData = {\n      // è¡Œæ˜Ÿä½ç½®ï¼ˆä¿æŒä¸ç°æœ‰åº”ç”¨å…¼å®¹çš„æ ¼å¼ï¼‰\n      astrologyPositions: planetPositions,\n      \n      // å®«ä½ä¿¡æ¯\n      houses: houses,\n      \n      // ç›¸ä½ä¿¡æ¯\n      aspects: aspects,\n      \n      // å…ƒç´ åˆ†å¸ƒ\n      elementDistribution: elementDistribution,\n      \n      // è¿åŠ¿ä¿¡æ¯\n      fortune: {\n        overview: fortuneScores.overall >= 4 ? 'å¤§å‰' : fortuneScores.overall >= 3 ? 'ä¸­å‰' : 'å¹³å¸¸',\n        career: 'â˜…'.repeat(fortuneScores.career) + 'â˜†'.repeat(5 - fortuneScores.career),\n        wealth: 'â˜…'.repeat(fortuneScores.wealth) + 'â˜†'.repeat(5 - fortuneScores.wealth),\n        love: 'â˜…'.repeat(fortuneScores.love) + 'â˜†'.repeat(5 - fortuneScores.love),\n        health: 'â˜…'.repeat(fortuneScores.health) + 'â˜†'.repeat(5 - fortuneScores.health),\n        scores: fortuneScores\n      },\n      \n      // SVGå›¾è¡¨ï¼ˆå¦‚æœAPIè¿”å›äº†çš„è¯ï¼‰\n      chart: {\n        svg: apiData.svg || null,\n        hasChart: !!apiData.svg\n      },\n      \n      // ä¿ç•™åŸå§‹æ•°æ®ç”¨äºè°ƒè¯•\n      _rawApiData: process.env.NODE_ENV === 'development' ? apiData : null,\n      _convertedAt: new Date().toISOString()\n    };\n    \n    console.log('âœ… æ•°æ®è½¬æ¢å®Œæˆ');\n    console.log('ğŸ“¤ è½¬æ¢åæ•°æ®:', convertedData);\n    \n    return convertedData;\n    \n  } catch (error) {\n    console.error('âŒ æ•°æ®è½¬æ¢å¤±è´¥:', error);\n    throw new Error(`æ•°æ®è½¬æ¢å¤±è´¥: ${error.message}`);\n  }\n}\n\n/**\n * éªŒè¯è½¬æ¢åçš„æ•°æ®å®Œæ•´æ€§\n * @param {Object} convertedData - è½¬æ¢åçš„æ•°æ®\n * @returns {Object} éªŒè¯ç»“æœ\n */\nexport function validateConvertedData(convertedData) {\n  const validation = {\n    isValid: true,\n    errors: [],\n    warnings: []\n  };\n  \n  // æ£€æŸ¥å¿…è¦çš„è¡Œæ˜Ÿä½ç½®\n  const requiredPlanets = ['sun', 'moon', 'ascendant'];\n  requiredPlanets.forEach(planet => {\n    if (!convertedData.astrologyPositions[planet]) {\n      validation.errors.push(`ç¼ºå°‘${planet}ä½ç½®ä¿¡æ¯`);\n      validation.isValid = false;\n    }\n  });\n  \n  // æ£€æŸ¥æ•°æ®æ ¼å¼\n  if (!convertedData.astrologyPositions || typeof convertedData.astrologyPositions !== 'object') {\n    validation.errors.push('è¡Œæ˜Ÿä½ç½®æ•°æ®æ ¼å¼é”™è¯¯');\n    validation.isValid = false;\n  }\n  \n  // æ£€æŸ¥è¿åŠ¿æ•°æ®\n  if (!convertedData.fortune) {\n    validation.warnings.push('ç¼ºå°‘è¿åŠ¿ä¿¡æ¯');\n  }\n  \n  // æ£€æŸ¥å®«ä½æ•°æ®\n  if (!convertedData.houses || Object.keys(convertedData.houses).length < 12) {\n    validation.warnings.push('å®«ä½æ•°æ®ä¸å®Œæ•´');\n  }\n  \n  return validation;\n}\n\n/**\n * åˆ›å»ºå…¼å®¹çš„å æ˜Ÿæ•°æ®æ ¼å¼ï¼ˆç”¨äºæ›¿æ¢æœ¬åœ°è®¡ç®—ï¼‰\n * @param {Object} apiData - APIè¿”å›çš„åŸå§‹æ•°æ®\n * @returns {Object} ä¸ç°æœ‰åº”ç”¨å…¼å®¹çš„æ•°æ®æ ¼å¼\n */\nexport function createCompatibleAstrologyData(apiData) {\n  const convertedData = convertApiDataToAppFormat(apiData);\n  const validation = validateConvertedData(convertedData);\n  \n  if (!validation.isValid) {\n    console.error('æ•°æ®éªŒè¯å¤±è´¥:', validation.errors);\n    throw new Error('è½¬æ¢çš„æ•°æ®ä¸æ»¡è¶³åº”ç”¨è¦æ±‚');\n  }\n  \n  if (validation.warnings.length > 0) {\n    console.warn('æ•°æ®éªŒè¯è­¦å‘Š:', validation.warnings);\n  }\n  \n  // è¿”å›ä¸ç°æœ‰åº”ç”¨å®Œå…¨å…¼å®¹çš„æ•°æ®ç»“æ„\n  return {\n    astrologyPositions: convertedData.astrologyPositions,\n    fortune: convertedData.fortune,\n    houses: convertedData.houses,\n    aspects: convertedData.aspects,\n    elementDistribution: convertedData.elementDistribution,\n    chart: convertedData.chart,\n    // é¢å¤–çš„å…ƒæ•°æ®\n    dataSource: 'xingpan_api',\n    timestamp: new Date().toISOString()\n  };\n}\n\n// å¯¼å‡ºå·¥å…·å‡½æ•°\nexport {\n  PLANET_CODE_MAP,\n  ZODIAC_MAPPING,\n  ZODIAC_REVERSE_MAPPING,\n  convertZodiacName\n};","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://tc39.es/ecma262/#sec-object.fromentries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n"],"names":["PLANET_CODE_MAP","ZODIAC_MAPPING","ZODIAC_REVERSE_MAPPING","Object","fromEntries","entries","map","_ref","_ref2","_slicedToArray","en","zh","convertZodiacName","englishName","extractPlanetPositions","apiData","positions","planet","Array","isArray","console","warn","forEach","planetData","planetKey","code_name","sign","sign_english","degree","deg","minute","min","second","sec","longitude","_raw","planet_english","planet_chinese","house_id","speed","house","house10","find","midheaven","house_life","sign_chinese","essentials","missing","filter","key","length","extractHouseData","houses","houseData","houseNumber","life_palace","planets","planet_array","name","coordinates","x","z_x","y","z_y","extractAspectData","aspects","planet_allow_degree","aspect","planet1Key","planet2Key","push","planet1","planet2","angle","allow","orb","type","in_out","extractElementDistribution","distribution","elements","fire","earth","air","water","qualities","cardinal","fixed","mutable","polarities","positive","negative","attribute","elementMap","qualityMap","_ref3","_ref4","_ref5","_ref6","element","chineseNames","includes","_ref7","_ref8","quality","generateFortuneScores","planetPositions","scores","career","wealth","love","health","overall","sun","fireSign","moon","waterSign","beneficAspects","a","maleficAspects","keys","Math","max","round","convertApiDataToAppFormat","log","elementDistribution","fortuneScores","convertedData","astrologyPositions","fortune","overview","repeat","chart","svg","hasChart","_rawApiData","_convertedAt","Date","toISOString","error","Error","concat","message","validateConvertedData","validation","isValid","errors","warnings","requiredPlanets","_typeof","createCompatibleAstrologyData","dataSource","timestamp","$","iterate","createProperty","target","stat","iterable","obj","k","v","AS_ENTRIES"],"sourceRoot":""}