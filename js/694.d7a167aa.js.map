{"version":3,"file":"js/694.d7a167aa.js","mappings":"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","sources":["webpack://meiban-app/./src/utils/transitCalculator.js","webpack://meiban-app/./node_modules/core-js/modules/es.number.to-fixed.js"],"sourcesContent":["/**\r\n * Ë°åËøêÁõòËÆ°ÁÆóÊ®°Âùó\r\n * ËÆ°ÁÆóË°åËøêË°åÊòü‰ΩçÁΩÆÔºåÂàÜÊûêÁõ∏‰ΩçÂÖ≥Á≥ªÔºåÁîüÊàêËøêÂäøÊä•Âëä\r\n */\r\n\r\n// Ê≠£Á°ÆÂØºÂÖ•Áé∞ÊúâÊ®°ÂùóÁöÑÂáΩÊï∞\r\nimport { \r\n  calculateAstrologyPositions,\r\n  calculateDegreeFromSign,\r\n} from './calculator.js';\r\n\r\n// Ë°åÊòüÂë®ÊúüÊï∞ÊçÆ\r\nconst PLANET_CYCLES = {\r\n  sun: { period: 365.25, name: 'Â§™Èò≥' },\r\n  moon: { period: 29.53, name: 'Êúà‰∫Æ' },\r\n  mercury: { period: 87.97, name: 'Ê∞¥Êòü' },\r\n  venus: { period: 224.7, name: 'ÈáëÊòü' },\r\n  mars: { period: 686.98, name: 'ÁÅ´Êòü' },\r\n  jupiter: { period: 4332.59, name: 'Êú®Êòü' }, // 11.86Âπ¥\r\n  saturn: { period: 10759.22, name: 'ÂúüÊòü' }, // 29.46Âπ¥\r\n  uranus: { period: 30688.5, name: 'Â§©ÁéãÊòü' }, // 84Âπ¥\r\n  neptune: { period: 60182, name: 'Êµ∑ÁéãÊòü' }, // 164.8Âπ¥\r\n  pluto: { period: 90560, name: 'ÂÜ•ÁéãÊòü' }  // 248Âπ¥\r\n};\r\n\r\n// Áõ∏‰ΩçÈÖçÁΩÆ\r\nconst ASPECT_CONFIG = {\r\n  ÂêàÁõ∏: { angle: 0, orb: 8, intensity: 'strong', type: 'conjunction' },\r\n  ÂÖ≠ÂàÜÁõ∏: { angle: 60, orb: 4, intensity: 'moderate', type: 'sextile' },\r\n  ÂõõÂàÜÁõ∏: { angle: 90, orb: 6, intensity: 'strong', type: 'square' },\r\n  ‰∏âÂàÜÁõ∏: { angle: 120, orb: 6, intensity: 'strong', type: 'trine' },\r\n  ÂØπÂàÜÁõ∏: { angle: 180, orb: 8, intensity: 'strong', type: 'opposition' }\r\n};\r\n\r\n// ÈáçË¶ÅÂπ¥ÈæÑËäÇÁÇπÈÖçÁΩÆ\r\nconst LIFE_CYCLES = {\r\n  saturn_return_1: { age: 29, duration: 2, name: 'Á¨¨‰∏ÄÊ¨°ÂúüÊòüÂõûÂΩí' },\r\n  jupiter_return_1: { age: 12, duration: 1, name: 'Á¨¨‰∏ÄÊ¨°Êú®ÊòüÂõûÂΩí' },\r\n  jupiter_return_2: { age: 24, duration: 1, name: 'Á¨¨‰∫åÊ¨°Êú®ÊòüÂõûÂΩí' },\r\n  jupiter_return_3: { age: 36, duration: 1, name: 'Á¨¨‰∏âÊ¨°Êú®ÊòüÂõûÂΩí' },\r\n  jupiter_return_4: { age: 48, duration: 1, name: 'Á¨¨ÂõõÊ¨°Êú®ÊòüÂõûÂΩí' },\r\n  saturn_opposition: { age: 44, duration: 2, name: 'ÂúüÊòüÂØπÂÜ≤' },\r\n  saturn_return_2: { age: 58, duration: 2, name: 'Á¨¨‰∫åÊ¨°ÂúüÊòüÂõûÂΩí' }\r\n};\r\n\r\n/**\r\n * ËÆ°ÁÆó‰∏§‰∏™ËßíÂ∫¶‰πãÈó¥ÁöÑÂ∑ÆÂÄº\r\n */\r\nfunction calculateAngleDifference(angle1, angle2) {\r\n  let diff = Math.abs(angle1 - angle2);\r\n  if (diff > 180) {\r\n    diff = 360 - diff;\r\n  }\r\n  return diff;\r\n}\r\n\r\n/**\r\n * Âà§Êñ≠Áõ∏‰ΩçÊòØÂê¶Âú®ÂÆπËÆ∏Â∫¶ËåÉÂõ¥ÂÜÖ\r\n */\r\nfunction isAspectValid(actualAngle, aspectAngle, orb) {\r\n  return Math.abs(actualAngle - aspectAngle) <= orb;\r\n}\r\n\r\n/**\r\n * ÂÆâÂÖ®ÁöÑÂ∫¶Êï∞ËÆ°ÁÆóÂáΩÊï∞ - Â§ÑÁêÜÂèØËÉΩÁöÑÊï∞ÊçÆÊ†ºÂºèÈóÆÈ¢ò\r\n */\r\nfunction safeDegreeCalculation(position) {\r\n  try {\r\n    if (typeof position === 'number') {\r\n      return position;\r\n    }\r\n    \r\n    if (position && typeof position === 'object') {\r\n      // Â¶ÇÊûúÂ∑≤ÁªèÊúâ longitude Â±ûÊÄßÔºåÁõ¥Êé•‰ΩøÁî®\r\n      if (position.longitude !== undefined) {\r\n        return position.longitude;\r\n      }\r\n      \r\n      // Âê¶Âàô‰ªéÊòüÂ∫ß‰ø°ÊÅØËÆ°ÁÆó\r\n      return calculateDegreeFromSign(position);\r\n    }\r\n    \r\n    console.warn('Êó†ÊïàÁöÑ‰ΩçÁΩÆÊï∞ÊçÆ:', position);\r\n    return 0;\r\n  } catch (error) {\r\n    console.error('Â∫¶Êï∞ËÆ°ÁÆóÈîôËØØ:', error, position);\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * ËÆ°ÁÆóË°åËøêÁõ∏‰Ωç\r\n */\r\nfunction calculateTransitAspects(natalPositions, transitPositions) {\r\n  const aspects = [];\r\n\r\n  try {\r\n    // ÈÅçÂéÜË°åËøêË°åÊòü\r\n    Object.keys(transitPositions).forEach(transitPlanet => {\r\n      if (transitPlanet === 'ascendant') return; // Ë∑≥Ëøá‰∏äÂçáÁÇπ\r\n\r\n      const transitPos = transitPositions[transitPlanet];\r\n      const transitDegree = safeDegreeCalculation(transitPos);\r\n\r\n      // ÈÅçÂéÜÊú¨ÂëΩË°åÊòü\r\n      Object.keys(natalPositions).forEach(natalPlanet => {\r\n        const natalPos = natalPositions[natalPlanet];\r\n        const natalDegree = safeDegreeCalculation(natalPos);\r\n\r\n        const angleDiff = calculateAngleDifference(transitDegree, natalDegree);\r\n\r\n        // Ê£ÄÊü•ÊØèÁßçÁõ∏‰Ωç\r\n        Object.entries(ASPECT_CONFIG).forEach(([aspectName, aspectData]) => {\r\n          if (isAspectValid(angleDiff, aspectData.angle, aspectData.orb)) {\r\n            aspects.push({\r\n              transitPlanet: PLANET_CYCLES[transitPlanet]?.name || transitPlanet,\r\n              natalPlanet: PLANET_CYCLES[natalPlanet]?.name || natalPlanet,\r\n              aspect: aspectName,\r\n              orb: Math.abs(angleDiff - aspectData.angle),\r\n              intensity: aspectData.intensity,\r\n              type: aspectData.type,\r\n              applying: transitDegree < natalDegree, // ÁÆÄÂåñÂà§Êñ≠\r\n              transitSign: transitPos.sign || 'Êú™Áü•',\r\n              natalSign: natalPos.sign || 'Êú™Áü•'\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // ÊåâÂÆπËÆ∏Â∫¶ÊéíÂ∫èÔºåÁ≤æÁ°ÆÁõ∏‰Ωç‰ºòÂÖà\r\n    return aspects.sort((a, b) => a.orb - b.orb);\r\n    \r\n  } catch (error) {\r\n    console.error('ËÆ°ÁÆóË°åËøêÁõ∏‰ΩçÊó∂Âá∫Èîô:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * ËÆ°ÁÆóÂΩìÂâçÂπ¥ÈæÑÊâÄÂ§ÑÁöÑÁîüÂëΩÂë®Êúü\r\n */\r\nfunction getCurrentLifeCycles(birthDate, analysisDate) {\r\n  try {\r\n    const birthTime = new Date(birthDate).getTime();\r\n    const analysisTime = new Date(analysisDate).getTime();\r\n    const ageInYears = (analysisTime - birthTime) / (1000 * 60 * 60 * 24 * 365.25);\r\n\r\n    const currentCycles = [];\r\n    \r\n    Object.entries(LIFE_CYCLES).forEach(([cycleKey, cycleData]) => {\r\n      const cycleStart = cycleData.age - cycleData.duration / 2;\r\n      const cycleEnd = cycleData.age + cycleData.duration / 2;\r\n      \r\n      if (ageInYears >= cycleStart && ageInYears <= cycleEnd) {\r\n        currentCycles.push({\r\n          ...cycleData,\r\n          key: cycleKey,\r\n          progress: (ageInYears - cycleStart) / cycleData.duration\r\n        });\r\n      }\r\n    });\r\n\r\n    return currentCycles;\r\n  } catch (error) {\r\n    console.error('ËÆ°ÁÆóÁîüÂëΩÂë®ÊúüÊó∂Âá∫Èîô:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Ê†πÊçÆÁõ∏‰ΩçÁîüÊàêËß£ËØªÊñáÊú¨\r\n */\r\nfunction generateAspectInterpretation(aspect) {\r\n  const interpretations = {\r\n    // Êúà‰∫ÆÁõ∏‰Ωç\r\n    'Êúà‰∫Æ-ÂêàÁõ∏': {\r\n      positive: 'ÊÉÖÁª™ÂíåÁõ¥ËßâÂæóÂà∞Âº∫ÂåñÔºåÊòØÂºÄÂßãÊñ∞ÁöÑÊÉÖÊÑüÂë®ÊúüÁöÑÂ•ΩÊó∂Êú∫„ÄÇ',\r\n      challenging: 'ÊÉÖÁª™ÂèØËÉΩËæÉ‰∏∫Âº∫ÁÉàÔºåÈúÄË¶ÅÂ≠¶‰ºöÂπ≥Ë°°ÂÜÖÂú®ÊÑüÂèó„ÄÇ'\r\n    },\r\n    'Êúà‰∫Æ-‰∏âÂàÜÁõ∏': {\r\n      positive: 'ÊÉÖÊÑüÊµÅÂä®È°∫ÁïÖÔºå‰∏é‰ªñ‰∫∫ÁöÑÂÖ≥Á≥ªÂíåË∞êÔºåÁõ¥ËßâÂäõÂ¢ûÂº∫„ÄÇ',\r\n      challenging: 'ËøáÂ∫¶‰æùËµñÊÉÖÊÑüÂà§Êñ≠ÔºåÂèØËÉΩÂøΩÁï•ÁêÜÊÄßÂàÜÊûê„ÄÇ'\r\n    },\r\n    'Êúà‰∫Æ-ÂõõÂàÜÁõ∏': {\r\n      positive: 'ÊÉÖÊÑüÊåëÊàò‰øÉËøõÂÜÖÂú®ÊàêÈïøÔºåÂ≠¶‰ºöÂ§ÑÁêÜÂ§çÊùÇÊÉÖÁª™„ÄÇ',\r\n      challenging: 'ÊÉÖÁª™Ê≥¢Âä®ËæÉÂ§ßÔºå‰∫∫ÈôÖÂÖ≥Á≥ªÂèØËÉΩÂá∫Áé∞Á¥ßÂº†„ÄÇ'\r\n    },\r\n\r\n    // Ê∞¥ÊòüÁõ∏‰Ωç\r\n    'Ê∞¥Êòü-ÂêàÁõ∏': {\r\n      positive: 'ÊÄùÁª¥ÊïèÈîêÔºåÊ≤üÈÄöËÉΩÂäõÂ¢ûÂº∫ÔºåÂ≠¶‰π†Êñ∞‰∫ãÁâ©ÁöÑÂ•ΩÊó∂Êú∫„ÄÇ',\r\n      challenging: 'ÊÄùÁª™Ëøá‰∫éÊ¥ªË∑ÉÔºåÂèØËÉΩÂØºËá¥ÁÑ¶ËôëÊàñÂÜ≥Á≠ñÂõ∞Èöæ„ÄÇ'\r\n    },\r\n    'Ê∞¥Êòü-‰∏âÂàÜÁõ∏': {\r\n      positive: 'ÈÄªËæëÊÄùÁª¥Ê∏ÖÊô∞ÔºåË°®ËææËÉΩÂäõÂº∫ÔºåÈÄÇÂêàË∞àÂà§ÂíåÂ≠¶‰π†„ÄÇ',\r\n      challenging: 'ÂèØËÉΩËøá‰∫éÁêÜÊÄßÔºåÂøΩÁï•ÊÉÖÊÑüÂõ†Á¥†„ÄÇ'\r\n    },\r\n\r\n    // ÈáëÊòüÁõ∏‰Ωç  \r\n    'ÈáëÊòü-ÂêàÁõ∏': {\r\n      positive: 'È≠ÖÂäõÂ¢ûÂº∫Ôºå‰∫∫ÈôÖÂÖ≥Á≥ªÊîπÂñÑÔºåËâ∫ÊúØÂàõÈÄ†ÂäõÊèêÂçá„ÄÇ',\r\n      challenging: 'ÂèØËÉΩËøá‰∫éÊ≥®ÈáçÂ§ñË°®ÊàñÁâ©Ë¥®‰∫´Âèó„ÄÇ'\r\n    },\r\n    'ÈáëÊòü-‰∏âÂàÜÁõ∏': {\r\n      positive: 'Áà±ÊÉÖËøê‰Ω≥ÔºåÁ§æ‰∫§Ê¥ªË∑ÉÔºåÂÆ°ÁæéÂìÅÂë≥ÊèêÂçá„ÄÇ',\r\n      challenging: 'ÂèØËÉΩËøá‰∫éËøΩÊ±ÇÂíåË∞êÔºåÈÅøÂÖçÂøÖË¶ÅÂÜ≤Á™Å„ÄÇ'\r\n    },\r\n\r\n    // ÂúüÊòüÁõ∏‰Ωç\r\n    'ÂúüÊòü-ÂêàÁõ∏': {\r\n      positive: 'Âª∫Á´ãÁ®≥Âõ∫Âü∫Á°ÄÔºåÊâøÊãÖÈáçË¶ÅË¥£‰ªªÔºåËé∑ÂæóÈïøÊúüÊàêÂ∞±„ÄÇ',\r\n      challenging: 'ÂéãÂäõÂ¢ûÂ§ßÔºåÂèØËÉΩÊÑüÂà∞ÈôêÂà∂ÂíåË¥üÊãÖ„ÄÇ'\r\n    },\r\n    'ÂúüÊòü-‰∏âÂàÜÁõ∏': {\r\n      positive: 'ÈÄöËøáÂä™ÂäõËé∑ÂæóÁ®≥ÂÆöÊàêÊûúÔºåË¥£‰ªªÊÑüÂ¢ûÂº∫„ÄÇ',\r\n      challenging: 'ÂèØËÉΩËøá‰∫é‰øùÂÆàÔºåÁº∫‰πèÂÜíÈô©Á≤æÁ•û„ÄÇ'\r\n    },\r\n    'ÂúüÊòü-ÂõõÂàÜÁõ∏': {\r\n      positive: 'ÈÄöËøáÊåëÊàòËé∑ÂæóÊàêÈïøÔºåÂª∫Á´ãÊõ¥Âº∫ÁöÑËá™ÂæãËÉΩÂäõ„ÄÇ',\r\n      challenging: 'Èù¢‰∏¥ÈáçË¶ÅËÄÉÈ™åÔºåÈúÄË¶ÅÂÅöÂá∫Ëâ∞ÈöæÂÜ≥ÂÆö„ÄÇ'\r\n    },\r\n\r\n    // Â§©ÁéãÊòüÁõ∏‰Ωç\r\n    'Â§©ÁéãÊòü-ÂêàÁõ∏': {\r\n      positive: 'Á™ÅÁ†¥ÊóßÊúâÊ®°ÂºèÔºåËøéÊù•Èù©ÂëΩÊÄßÂèòÂåñÔºåÂàõÊñ∞ËÉΩÂäõÂº∫„ÄÇ',\r\n      challenging: 'ÂèòÂåñÊù•ÂæóÁ™ÅÁÑ∂ÔºåÂèØËÉΩÂ∏¶Êù•‰∏çÁ®≥ÂÆöÊÑü„ÄÇ'\r\n    },\r\n    'Â§©ÁéãÊòü-ÂõõÂàÜÁõ∏': {\r\n      positive: 'Ë¢´Ëø´ÊîπÂèò‰øÉËøõ‰∏™‰∫∫ÊàêÈïøÔºåËé∑ÂæóÊñ∞ÁöÑËá™Áî±„ÄÇ',\r\n      challenging: 'Èù¢‰∏¥Á™ÅÂèëÂèòÊïÖÔºåÂéüÊúâËÆ°ÂàíÂèØËÉΩË¢´Êâì‰π±„ÄÇ'\r\n    },\r\n\r\n    // Êµ∑ÁéãÊòüÁõ∏‰Ωç\r\n    'Êµ∑ÁéãÊòü-ÂêàÁõ∏': {\r\n      positive: 'Á≤æÁ•ûËßâÈÜíÔºåÁõ¥ËßâÂ¢ûÂº∫ÔºåËâ∫ÊúØÁÅµÊÑü‰∏∞ÂØå„ÄÇ',\r\n      challenging: 'Áé∞ÂÆûÊÑüÊ®°Á≥äÔºåÂèØËÉΩÂá∫Áé∞Ëø∑ÊÉëÊàñÈÄÉÈÅø„ÄÇ'\r\n    },\r\n    'Êµ∑ÁéãÊòü-‰∏âÂàÜÁõ∏': {\r\n      positive: 'ÁÅµÊÄßÊàêÈïøÔºåÂêåÁêÜÂøÉÂ¢ûÂº∫ÔºåÂàõÈÄ†ÂäõÊèêÂçá„ÄÇ',\r\n      challenging: 'ÂèØËÉΩËøá‰∫éÁêÜÊÉ≥ÂåñÔºåÂøΩËßÜÁé∞ÂÆûÈóÆÈ¢ò„ÄÇ'\r\n    }\r\n  };\r\n\r\n  const key = `${aspect.transitPlanet}-${aspect.aspect}`;\r\n  const interpretation = interpretations[key];\r\n  \r\n  if (!interpretation) {\r\n    return `${aspect.transitPlanet}${aspect.aspect}${aspect.natalPlanet}ÔºöËøô‰∏™Áõ∏‰ΩçÂ∏¶Êù•ÈáçË¶ÅÁöÑËÉΩÈáè‰∫§ÊµÅÔºåÂÆπËÆ∏Â∫¶${aspect.orb.toFixed(1)}Â∫¶„ÄÇ`;\r\n  }\r\n\r\n  // Ê†πÊçÆÁõ∏‰ΩçÁ±ªÂûãÈÄâÊã©Ê≠£Èù¢ÊàñÊåëÊàòÊÄßËß£ËØª\r\n  const isPositive = ['‰∏âÂàÜÁõ∏', 'ÂÖ≠ÂàÜÁõ∏'].includes(aspect.aspect);\r\n  return interpretation[isPositive ? 'positive' : 'challenging'];\r\n}\r\n\r\n/**\r\n * ÁîüÊàêÂ§ñË°åÊòüÂΩ±ÂìçÂàÜÊûê\r\n */\r\nfunction generateOuterPlanetAnalysis(aspects, currentAge) {\r\n  const outerPlanetAspects = aspects.filter(aspect => \r\n    ['ÂúüÊòü', 'Â§©ÁéãÊòü', 'Êµ∑ÁéãÊòü', 'ÂÜ•ÁéãÊòü'].includes(aspect.transitPlanet)\r\n  );\r\n\r\n  const analysis = {\r\n    saturn: [],\r\n    uranus: [],\r\n    neptune: [],\r\n    pluto: []\r\n  };\r\n\r\n  outerPlanetAspects.forEach(aspect => {\r\n    const planetKey = {\r\n      'ÂúüÊòü': 'saturn',\r\n      'Â§©ÁéãÊòü': 'uranus', \r\n      'Êµ∑ÁéãÊòü': 'neptune',\r\n      'ÂÜ•ÁéãÊòü': 'pluto'\r\n    }[aspect.transitPlanet];\r\n\r\n    if (planetKey) {\r\n      analysis[planetKey].push({\r\n        ...aspect,\r\n        interpretation: generateAspectInterpretation(aspect)\r\n      });\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...analysis,\r\n    summary: generateLifePhaseAnalysis(currentAge)\r\n  };\r\n}\r\n\r\n/**\r\n * ÁîüÊàê‰∫∫ÁîüÈò∂ÊÆµÂàÜÊûê\r\n */\r\nfunction generateLifePhaseAnalysis(age) {\r\n  if (age >= 42 && age <= 46) {\r\n    return {\r\n      phase: '‰∏≠Âπ¥ËΩ¨ÂåñÊúü',\r\n      description: 'Ê≠£Â§Ñ‰∫é‰∫∫ÁîüÁöÑÈáçË¶ÅËΩ¨ÊäòÁÇπÔºåÂ§ñË°åÊòüÁöÑÂΩ±Âìç‰øÉ‰ΩøÊÇ®ÈáçÊñ∞ËØÑ‰º∞‰∫∫ÁîüÊñπÂêëÂíå‰ª∑ÂÄºËßÇ„ÄÇËøôÊòØ‰∏Ä‰∏™Ê∑±Â∫¶ÂÜÖÁúÅÂíåËΩ¨ÂåñÁöÑÊó∂Êúü„ÄÇ',\r\n      keyThemes: ['Ë¥£‰ªª‰∏éËá™Áî±ÁöÑÂπ≥Ë°°', 'ÂÜÖÂú®ËúïÂèò', '‰∫ã‰∏öÈáçÊñ∞ÂÆö‰Ωç', 'Á≤æÁ•ûËßâÈÜí']\r\n    };\r\n  } else if (age >= 28 && age <= 32) {\r\n    return {\r\n      phase: 'ÊàêÂπ¥Á°ÆÁ´ãÊúü',\r\n      description: 'ÂúüÊòüÂõûÂΩíÂ∏¶Êù•ÊàêÂπ¥Ë¥£‰ªªÁöÑÁ°ÆÁ´ãÔºåËøôÊòØ‰ªéÈùíÂπ¥ËøáÊ∏°Âà∞ÊàêÁÜüÊàêÂπ¥‰∫∫ÁöÑÂÖ≥ÈîÆÊó∂Êúü„ÄÇ',\r\n      keyThemes: ['ÊâøÊãÖË¥£‰ªª', 'Âª∫Á´ãÂü∫Á°Ä', 'Á°ÆÁ´ãÊñπÂêë', 'ÊàêÁÜüÊàêÈïø']\r\n    };\r\n  } else if (age >= 35 && age <= 37) {\r\n    return {\r\n      phase: 'Êâ©Â±ïÊàêÈïøÊúü', \r\n      description: 'Êú®ÊòüÂõûÂΩíÂ∏¶Êù•Êñ∞ÁöÑÊàêÈïøÊú∫ÈÅáÂíåËßÜÈáéÊâ©Â±ïÔºåÊòØËøΩÊ±ÇÊõ¥È´òÁõÆÊ†áÁöÑËâØÂ•ΩÊó∂Êúü„ÄÇ',\r\n      keyThemes: ['Êú∫ÈÅáÊâ©Â±ï', 'ËßÜÈáéÂºÄÈòî', 'Â≠¶‰π†ÊàêÈïø', 'ÁßØÊûÅËøõÂèñ']\r\n    };\r\n  } else {\r\n    return {\r\n      phase: 'Á®≥ÂÆöÂèëÂ±ïÊúü',\r\n      description: 'ÂΩìÂâçÂ§Ñ‰∫éÁõ∏ÂØπÁ®≥ÂÆöÁöÑÂèëÂ±ïÈò∂ÊÆµÔºåÈÄÇÂêàÂ∑©Âõ∫Êó¢ÊúâÊàêÊûúÂπ∂‰∏∫Êú™Êù•ÂÅöÂáÜÂ§á„ÄÇ',\r\n      keyThemes: ['Á®≥ÂÆöÂèëÂ±ï', 'ÁßØÁ¥ØÁªèÈ™å', 'ÂÆåÂñÑÊäÄËÉΩ', 'ÂáÜÂ§áÊú∫ÈÅá']\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * ËÆ°ÁÆóÂÆåÊï¥ÁöÑË°åËøêÁõòÊï∞ÊçÆ\r\n */\r\nexport function calculateTransitChart(birthData, transitDate) {\r\n  try {\r\n    console.log('üåü ÂºÄÂßãËÆ°ÁÆóË°åËøêÁõò');\r\n    console.log('Âá∫ÁîüÊï∞ÊçÆ:', birthData);\r\n    console.log('Ë°åËøêÊó•Êúü:', transitDate);\r\n\r\n    // ËÆ°ÁÆóÊú¨ÂëΩÁõò‰ΩçÁΩÆ\r\n    console.log('üìç ËÆ°ÁÆóÊú¨ÂëΩÁõò‰ΩçÁΩÆ...');\r\n    const natalPositions = calculateAstrologyPositions(birthData);\r\n    console.log('Êú¨ÂëΩÁõò‰ΩçÁΩÆ:', natalPositions);\r\n    \r\n    // ËÆ°ÁÆóË°åËøêÁõò‰ΩçÁΩÆ\r\n    console.log('üìç ËÆ°ÁÆóË°åËøêÁõò‰ΩçÁΩÆ...');\r\n    const transitUserData = {\r\n      ...birthData,\r\n      fullBirthDateTime: transitDate\r\n    };\r\n    const transitPositions = calculateAstrologyPositions(transitUserData);\r\n    console.log('Ë°åËøêÁõò‰ΩçÁΩÆ:', transitPositions);\r\n\r\n    // ËÆ°ÁÆóÂπ¥ÈæÑ\r\n    const birthTime = new Date(birthData.fullBirthDateTime);\r\n    const transitTime = new Date(transitDate);\r\n    const ageInYears = (transitTime - birthTime) / (1000 * 60 * 60 * 24 * 365.25);\r\n    console.log('ÂΩìÂâçÂπ¥ÈæÑ:', ageInYears);\r\n\r\n    // ËÆ°ÁÆóÁõ∏‰Ωç\r\n    console.log('üìç ËÆ°ÁÆóÁõ∏‰ΩçÂÖ≥Á≥ª...');\r\n    const aspects = calculateTransitAspects(natalPositions, transitPositions);\r\n    console.log('Áõ∏‰ΩçÂÖ≥Á≥ª:', aspects);\r\n\r\n    // Ëé∑ÂèñÂΩìÂâçÁîüÂëΩÂë®Êúü\r\n    console.log('üìç ÂàÜÊûêÁîüÂëΩÂë®Êúü...');\r\n    const currentCycles = getCurrentLifeCycles(birthData.fullBirthDateTime, transitDate);\r\n    console.log('ÂΩìÂâçÁîüÂëΩÂë®Êúü:', currentCycles);\r\n\r\n    // ÁîüÊàêÂ§ñË°åÊòüÂàÜÊûê\r\n    console.log('üìç ÁîüÊàêÂ§ñË°åÊòüÂàÜÊûê...');\r\n    const outerPlanetAnalysis = generateOuterPlanetAnalysis(aspects, ageInYears);\r\n    console.log('Â§ñË°åÊòüÂàÜÊûê:', outerPlanetAnalysis);\r\n\r\n    const result = {\r\n      birthData,\r\n      transitDate,\r\n      age: Math.floor(ageInYears),\r\n      natalPositions,\r\n      transitPositions,\r\n      aspects: aspects.slice(0, 10), // ÂèñÂâç10‰∏™ÊúÄÈáçË¶ÅÁöÑÁõ∏‰Ωç\r\n      currentCycles,\r\n      outerPlanetAnalysis,\r\n      metadata: {\r\n        calculationTime: new Date().toISOString(),\r\n        aspectCount: aspects.length,\r\n        majorAspects: aspects.filter(a => a.intensity === 'strong').length\r\n      }\r\n    };\r\n\r\n    console.log('‚úÖ Ë°åËøêÁõòËÆ°ÁÆóÂÆåÊàê');\r\n    return result;\r\n\r\n  } catch (error) {\r\n    console.error('‚ùå Ë°åËøêÁõòËÆ°ÁÆóÂ§±Ë¥•:', error);\r\n    console.error('ÈîôËØØÂ†ÜÊ†à:', error.stack);\r\n    throw new Error(`Ë°åËøêÁõòËÆ°ÁÆóÂ§±Ë¥•: ${error.message}`);\r\n  }\r\n}\r\n\r\n/**\r\n * ÁîüÊàêË°åËøêÊä•ÂëäÊñáÊú¨\r\n */\r\nexport function generateTransitReport(transitData) {\r\n  try {\r\n    const { age, aspects, currentCycles, outerPlanetAnalysis } = transitData;\r\n    \r\n    const report = {\r\n      summary: `${age}Â≤ÅÁöÑË°åËøêÂàÜÊûêÊòæÁ§∫‰∫Ü${aspects.length}‰∏™ÈáçË¶ÅÁõ∏‰ΩçÊ≠£Âú®ÂèëÁîü‰ΩúÁî®„ÄÇ`,\r\n      currentPhase: outerPlanetAnalysis.summary,\r\n      majorAspects: aspects.slice(0, 5).map(aspect => ({\r\n        title: `${aspect.transitPlanet} ${aspect.aspect} ${aspect.natalPlanet}`,\r\n        description: generateAspectInterpretation(aspect),\r\n        orb: aspect.orb,\r\n        intensity: aspect.intensity\r\n      })),\r\n      lifeCycles: currentCycles.map(cycle => ({\r\n        name: cycle.name,\r\n        progress: Math.round(cycle.progress * 100),\r\n        description: `Ê≠£Âú®ÁªèÂéÜ${cycle.name}ÔºåÂÆåÊàêÂ∫¶${Math.round(cycle.progress * 100)}%`\r\n      })),\r\n      recommendations: generateRecommendations(transitData)\r\n    };\r\n\r\n    return report;\r\n  } catch (error) {\r\n    console.error('ÁîüÊàêË°åËøêÊä•ÂëäÂ§±Ë¥•:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * ÁîüÊàêÂª∫ËÆÆ\r\n */\r\nfunction generateRecommendations(transitData) {\r\n  try {\r\n    const { aspects } = transitData;\r\n    const recommendations = [];\r\n\r\n    // Âü∫‰∫é‰∏ªË¶ÅÁõ∏‰ΩçÁöÑÂª∫ËÆÆ\r\n    const majorAspects = aspects.filter(a => a.intensity === 'strong').slice(0, 3);\r\n    \r\n    majorAspects.forEach(aspect => {\r\n      if (aspect.transitPlanet === 'ÂúüÊòü') {\r\n        recommendations.push({\r\n          area: 'Ë¥£‰ªª‰∏éÁªìÊûÑ',\r\n          advice: 'ËøôÊòØÂª∫Á´ãÈïøÊúüÂü∫Á°ÄÁöÑÈáçË¶ÅÊó∂ÊúüÔºåËôΩÁÑ∂ÂèØËÉΩÈù¢‰∏¥ÂéãÂäõÔºå‰ΩÜÂùöÊåÅ‰∏ãÂéª‰ºöÊúâÁ®≥Âõ∫ÁöÑÊî∂Ëé∑„ÄÇ',\r\n          timeframe: 'Êú™Êù•6-12‰∏™Êúà'\r\n        });\r\n      } else if (aspect.transitPlanet === 'Êú®Êòü') {\r\n        recommendations.push({\r\n          area: 'ÊàêÈïø‰∏éÊú∫ÈÅá',\r\n          advice: 'ÁßØÊûÅÊääÊè°Êâ©Â±ïÊú∫‰ºöÔºåËøôÊòØÂ≠¶‰π†Êñ∞ÊäÄËÉΩÂíåÊãìÂ±ïËßÜÈáéÁöÑËâØÂ•ΩÊó∂Êú∫„ÄÇ',\r\n          timeframe: 'Êú™Êù•3-6‰∏™Êúà'\r\n        });\r\n      } else if (aspect.transitPlanet === 'Â§©ÁéãÊòü') {\r\n        recommendations.push({\r\n          area: 'ÂèòÂåñ‰∏éÂàõÊñ∞',\r\n          advice: 'Êã•Êä±ÂèòÂåñÔºå‰∏çË¶ÅÊäóÊãíÁ™ÅÂ¶ÇÂÖ∂Êù•ÁöÑËΩ¨ÂèòÔºåÂÆÉ‰ª¨ÂèØËÉΩÂ∏¶Êù•ÊÑèÊÉ≥‰∏çÂà∞ÁöÑÊú∫ÈÅá„ÄÇ',\r\n          timeframe: 'Êú™Êù•1-2Âπ¥'\r\n        });\r\n      }\r\n    });\r\n\r\n    return recommendations;\r\n  } catch (error) {\r\n    console.error('ÁîüÊàêÂª∫ËÆÆÂ§±Ë¥•:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// ÂØºÂá∫ÈÖçÁΩÆÂ∏∏Èáè\r\nexport { PLANET_CYCLES, ASPECT_CONFIG, LIFE_CYCLES };","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar $RangeError = RangeError;\nvar $String = String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar nativeToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = $String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return nativeToFixed(0.00008, 3) !== '0.000' ||\n    nativeToFixed(0.9, 0) !== '1' ||\n    nativeToFixed(1.255, 2) !== '1.25' ||\n    nativeToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    // TODO: ES2018 increased the maximum number of fraction digits to 100, need to improve the implementation\n    if (fractDigits < 0 || fractDigits > 20) throw new $RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number !== number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return $String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n"],"names":["PLANET_CYCLES","sun","period","name","moon","mercury","venus","mars","jupiter","saturn","uranus","neptune","pluto","ASPECT_CONFIG","ÂêàÁõ∏","angle","orb","intensity","type","ÂÖ≠ÂàÜÁõ∏","ÂõõÂàÜÁõ∏","‰∏âÂàÜÁõ∏","ÂØπÂàÜÁõ∏","LIFE_CYCLES","saturn_return_1","age","duration","jupiter_return_1","jupiter_return_2","jupiter_return_3","jupiter_return_4","saturn_opposition","saturn_return_2","calculateAngleDifference","angle1","angle2","diff","Math","abs","isAspectValid","actualAngle","aspectAngle","safeDegreeCalculation","position","_typeof","undefined","longitude","calculateDegreeFromSign","console","warn","error","calculateTransitAspects","natalPositions","transitPositions","aspects","Object","keys","forEach","transitPlanet","transitPos","transitDegree","natalPlanet","natalPos","natalDegree","angleDiff","entries","_ref","_PLANET_CYCLES$transi","_PLANET_CYCLES$natalP","_ref2","_slicedToArray","aspectName","aspectData","push","aspect","applying","transitSign","sign","natalSign","sort","a","b","getCurrentLifeCycles","birthDate","analysisDate","birthTime","Date","getTime","analysisTime","ageInYears","currentCycles","_ref3","_ref4","cycleKey","cycleData","cycleStart","cycleEnd","_objectSpread","key","progress","generateAspectInterpretation","interpretations","positive","challenging","concat","interpretation","toFixed","isPositive","includes","generateOuterPlanetAnalysis","currentAge","outerPlanetAspects","filter","analysis","planetKey","summary","generateLifePhaseAnalysis","phase","description","keyThemes","calculateTransitChart","birthData","transitDate","log","calculateAstrologyPositions","transitUserData","fullBirthDateTime","transitTime","outerPlanetAnalysis","result","floor","slice","metadata","calculationTime","toISOString","aspectCount","length","majorAspects","stack","Error","message","generateTransitReport","transitData","report","currentPhase","map","title","lifeCycles","cycle","round","recommendations","generateRecommendations","area","advice","timeframe","$","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","$RangeError","RangeError","$String","String","repeat","stringSlice","nativeToFixed","pow","x","n","acc","x2","multiply","data","c","index","c2","divide","dataToString","s","t","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","this","fractDigits"],"sourceRoot":""}