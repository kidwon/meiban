(()=>{"use strict";var t={756:(t,e,r)=>{r(3792),r(3362),r(9085),r(9391);var a=r(5130),n=r(6768),o={id:"app"};function l(t,e){var r=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(r)])}var u=r(1241);const s={},i=(0,u.A)(s,[["render",l]]),c=i;r(2010),r(6099),r(7764),r(2953);var h=r(1387),d=r(8676),g=r(4048),f=r(388),v=r(8653),p=(r(6280),r(6918),r(8706),r(1688),r(739),r(3288),r(3110),r(9432),r(782)),m=r(3307);function b(){try{var t=localStorage.getItem("meibanAppState");if(null===t)return;return JSON.parse(t)}catch(e){return void console.error("无法加载保存的状态:",e)}}function y(t){try{var e=JSON.stringify({userData:t.userData,calculationResults:t.calculationResults,settings:t.settings});localStorage.setItem("meibanAppState",e)}catch(r){console.error("无法保存状态:",r)}}var D={userData:null,calculationResults:null,transitResults:null,settings:{language:"ja",theme:"default",notifications:!0,autoSave:!0},loading:!1,error:null},k=b();const C=(0,p.y$)({state:(0,v.A)((0,v.A)({},D),k),getters:{getUserData:function(t){return t.userData},getCalculationResults:function(t){return t.calculationResults},getTransitResults:function(t){return t.transitResults},getSettings:function(t){return t.settings},isLoading:function(t){return t.loading},getError:function(t){return t.error},hasCompleteUserData:function(t){return t.userData&&t.userData.name&&t.userData.birthdate&&""!==t.userData.birthHour&&""!==t.userData.birthMinute&&t.userData.birthplace&&t.userData.gender},hasCalculationResults:function(t){return t.calculationResults&&t.calculationResults.eightCharacters&&t.calculationResults.astrologyPositions},getUserAge:function(t){if(!t.userData||!t.userData.fullBirthDateTime)return null;var e=new Date(t.userData.fullBirthDateTime),r=new Date,a=r-e;return Math.floor(a/315576e5)},getFormattedUserInfo:function(t){if(!t.userData)return null;var e=new Date(t.userData.fullBirthDateTime);return{name:t.userData.name,age:Math.floor((new Date-e)/315576e5),birthDateFormatted:"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月").concat(e.getDate(),"日"),birthTimeFormatted:"".concat(t.userData.birthHour,"時").concat(t.userData.birthMinute,"分"),birthPlace:t.userData.birthplace,gender:"male"===t.userData.gender?"男性":"女性"}}},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},setUserData:function(t,e){t.userData=e,t.settings.autoSave&&y(t)},setCalculationResults:function(t,e){t.calculationResults=e,t.settings.autoSave&&y(t)},setTransitResults:function(t,e){t.transitResults=e},updateSettings:function(t,e){t.settings=(0,v.A)((0,v.A)({},t.settings),e),y(t)},clearUserData:function(t){t.userData=null,t.calculationResults=null,t.transitResults=null,t.error=null,localStorage.removeItem("meibanAppState")},clearTransitResults:function(t){t.transitResults=null},clearCalculationResults:function(t){t.calculationResults=null,t.settings.autoSave&&y(t)}},actions:{saveUserData:function(t,e){var r=t.commit;r("clearError"),r("setUserData",e)},calculateFortune:function(t){var e=arguments;return(0,f.A)((0,g.A)().mark((function r(){var a,n,o,l,u,s,i;return(0,g.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.commit,n=t.state,o=e.length>1&&void 0!==e[1]?e[1]:null,l=o||n.userData,l){r.next=7;break}throw u="缺少用户数据，请先填写基本信息",a("setError",u),new Error(u);case 7:return a("setLoading",!0),a("clearError"),r.prev=9,s=(0,m.RV)(l),a("setCalculationResults",s),r.abrupt("return",s);case 15:return r.prev=15,r.t0=r["catch"](9),console.error("命盘计算失败:",r.t0),a("setError","命盘计算失败，请检查输入数据或稍后重试"),i={eightCharacters:{year:{heavenlyStem:"甲",earthlyBranch:"子"},month:{heavenlyStem:"丙",earthlyBranch:"寅"},day:{heavenlyStem:"戊",earthlyBranch:"午"},hour:{heavenlyStem:"庚",earthlyBranch:"申"}},elements:["木","火","土","金"],astrologyPositions:{ascendant:{sign:"双子座",degree:4,minute:11},sun:{sign:"双鱼座",degree:13,minute:49},moon:{sign:"水瓶座",degree:18,minute:56}},fortune:{overview:"大吉",career:"★★★☆☆",wealth:"★★★★☆",love:"★★★★★",health:"★★★☆☆"}},a("setCalculationResults",i),r.abrupt("return",i);case 22:return r.prev=22,a("setLoading",!1),r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[9,15,22,25]])})))()},calculateTransit:function(t,e){return(0,f.A)((0,g.A)().mark((function a(){var n,o,l,u,s,i,c,h,f,v,p;return(0,g.A)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,o=t.state,l=e.transitDate,u=o.userData,u){a.next=7;break}throw s="缺少用户数据，请先填写基本信息",n("setError",s),new Error(s);case 7:return n("setLoading",!0),n("clearError"),a.prev=9,a.next=12,Promise.all([r.e(694).then(r.bind(r,2694)),r.e(599).then(r.bind(r,1599))]);case 12:return i=a.sent,c=(0,d.A)(i,2),h=c[0].calculateTransitChart,f=c[1].generateDetailedTransitReport,v=h(u,l),p=f(v,u),n("setTransitResults",p),a.abrupt("return",p);case 22:throw a.prev=22,a.t0=a["catch"](9),console.error("行运计算失败:",a.t0),n("setError","行运计算失败，请检查输入数据或稍后重试"),a.t0;case 27:return a.prev=27,n("setLoading",!1),a.finish(27);case 30:case"end":return a.stop()}}),a,null,[[9,22,27,30]])})))()},recalculateFortune:function(t){var e=this;return(0,f.A)((0,g.A)().mark((function r(){var a,n;return(0,g.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.dispatch,n=t.state,n.userData){r.next=3;break}throw new Error("缺少用户数据");case 3:return e.commit("clearCalculationResults"),r.next=6,a("calculateFortune");case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},updateAppSettings:function(t,e){var r=t.commit;r("updateSettings",e)},toggleAutoSave:function(t){var e=t.commit,r=t.state,a=!r.settings.autoSave;e("updateSettings",{autoSave:a}),a&&y(r)},manualSave:function(t){var e=t.state;y(e)},resetApp:function(t){var e=t.commit;e("clearUserData"),e("clearError")},clearTransitData:function(t){var e=t.commit;e("clearTransitResults")},clearErrorMessage:function(t){var e=t.commit;e("clearError")},initializeApp:function(t){return(0,f.A)((0,g.A)().mark((function e(){var r,a,n;return(0,g.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,a=t.dispatch,n=t.commit,e.prev=1,n("setLoading",!0),!r.userData||r.calculationResults){e.next=6;break}return e.next=6,a("calculateFortune");case 6:return n("clearError"),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e["catch"](1),console.error("应用初始化失败:",e.t0),n("setError","应用初始化失败"),e.abrupt("return",!1);case 15:return e.prev=15,n("setLoading",!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,10,15,18]])})))()},exportUserData:function(t){var e=t.state;if(!e.userData)throw new Error("没有用户数据可以导出");var r={userData:e.userData,calculationResults:e.calculationResults,exportTime:(new Date).toISOString(),version:"1.0"};return r},importUserData:function(t,e){return(0,f.A)((0,g.A)().mark((function r(){var a,n;return(0,g.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.commit,n=t.dispatch,r.prev=1,e.userData){r.next=4;break}throw new Error("导入数据格式错误");case 4:if(a("setLoading",!0),a("setUserData",e.userData),!e.calculationResults){r.next=10;break}a("setCalculationResults",e.calculationResults),r.next=12;break;case 10:return r.next=12,n("calculateFortune");case 12:return r.abrupt("return",!0);case 15:throw r.prev=15,r.t0=r["catch"](1),console.error("导入数据失败:",r.t0),a("setError","导入数据失败："+r.t0.message),r.t0;case 20:return r.prev=20,a("setLoading",!1),r.finish(20);case 23:case"end":return r.stop()}}),r,null,[[1,15,20,23]])})))()}},modules:{}});var L=r(4119),w=r(4232),S={class:"meiban-container"},N={class:"form-container"},A={class:"form-group"},E={class:"form-group"},M={class:"form-row"},T={class:"form-group time-group"},R=["value"],P={class:"form-group time-group"},x=["value"],H={class:"form-group"},F={class:"location-input-wrapper"},O=["label"],U=["value"],B={class:"form-group gender-group"},_={class:"radio-group"},j=["value"],J={key:0,class:"quick-actions"},X={class:"action-buttons"},W={key:0,class:"debug-info"},I={class:"debug-item"},q={class:"debug-item"},$={key:0,class:"debug-item"},V={key:1,class:"debug-item"},K={key:2,class:"debug-item"},Q={key:3,class:"debug-item"},Y={key:4,class:"debug-item"},G={key:5,class:"debug-item"};function z(t,e,r,o,l,u){return(0,n.uX)(),(0,n.CE)("div",S,[e[36]||(e[36]=(0,n.Lk)("header",{class:"header"},[(0,n.Lk)("h1",{class:"title"},"命盤"),(0,n.Lk)("p",{class:"subtitle"},"生辰八字・命盤占い・行運分析")],-1)),(0,n.Lk)("div",N,[(0,n.Lk)("form",{onSubmit:e[8]||(e[8]=(0,a.D$)((function(){return u.submitForm&&u.submitForm.apply(u,arguments)}),["prevent"])),class:"birth-form"},[(0,n.Lk)("div",A,[e[12]||(e[12]=(0,n.Lk)("label",{for:"name"},"お名前",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=function(t){return l.formData.name=t}),placeholder:"お名前を入力してください",required:""},null,512),[[a.Jo,l.formData.name]])]),(0,n.Lk)("div",E,[e[13]||(e[13]=(0,n.Lk)("label",{for:"birthdate"},"生年月日",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"birthdate","onUpdate:modelValue":e[1]||(e[1]=function(t){return l.formData.birthdate=t}),required:""},null,512),[[a.Jo,l.formData.birthdate]])]),(0,n.Lk)("div",M,[(0,n.Lk)("div",T,[e[15]||(e[15]=(0,n.Lk)("label",{for:"birthHour"},"時間",-1)),(0,n.bo)((0,n.Lk)("select",{id:"birthHour","onUpdate:modelValue":e[2]||(e[2]=function(t){return l.formData.birthHour=t}),required:""},[e[14]||(e[14]=(0,n.Lk)("option",{value:"",disabled:""},"時",-1)),((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(24,(function(t){return(0,n.Lk)("option",{key:t,value:String(t-1)},(0,w.v_)(t-1),9,R)})),64))],512),[[a.u1,l.formData.birthHour]])]),(0,n.Lk)("div",P,[e[17]||(e[17]=(0,n.Lk)("label",{for:"birthMinute"},"分",-1)),(0,n.bo)((0,n.Lk)("select",{id:"birthMinute","onUpdate:modelValue":e[3]||(e[3]=function(t){return l.formData.birthMinute=t}),required:""},[e[16]||(e[16]=(0,n.Lk)("option",{value:"",disabled:""},"分",-1)),((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(60,(function(t){return(0,n.Lk)("option",{key:t,value:String(t-1)},(0,w.v_)(t-1),9,x)})),64))],512),[[a.u1,l.formData.birthMinute]])])]),(0,n.Lk)("div",H,[e[19]||(e[19]=(0,n.Lk)("label",{for:"birthplace"},"出生地",-1)),(0,n.Lk)("div",F,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return l.selectedCity=t}),onChange:e[5]||(e[5]=function(){return u.onCitySelect&&u.onCitySelect.apply(u,arguments)}),class:"city-select"},[e[18]||(e[18]=(0,n.Lk)("option",{value:""},"都市を選択してください",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.cityGroups,(function(t,e){return(0,n.uX)(),(0,n.CE)("optgroup",{key:e,label:l.regionLabels[e]},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t,(function(t){return(0,n.uX)(),(0,n.CE)("option",{key:t.value,value:t.value},(0,w.v_)(t.label),9,U)})),128))],8,O)})),128))],544),[[a.u1,l.selectedCity]]),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"birthplace","onUpdate:modelValue":e[6]||(e[6]=function(t){return l.formData.birthplace=t}),placeholder:"または直接入力してください",required:"",class:"city-input"},null,512),[[a.Jo,l.formData.birthplace]])]),e[20]||(e[20]=(0,n.Lk)("p",{class:"location-hint"},"リストから選択するか、直接入力してください",-1))]),(0,n.Lk)("div",B,[e[21]||(e[21]=(0,n.Lk)("label",null,"性別",-1)),(0,n.Lk)("div",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.genderOptions,(function(t){return(0,n.uX)(),(0,n.CE)("label",{class:"radio-label",key:t.value},[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=function(t){return l.formData.gender=t}),value:t.value,required:""},null,8,j),[[a.XL,l.formData.gender]]),(0,n.Lk)("span",null,(0,w.v_)(t.label),1)])})),128))])]),e[22]||(e[22]=(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"鑑定する",-1))],32),u.hasStoredData?((0,n.uX)(),(0,n.CE)("div",J,[e[34]||(e[34]=(0,n.Lk)("h3",{class:"quick-title"},"クイックアクション",-1)),e[35]||(e[35]=(0,n.Lk)("p",{class:"quick-subtitle"},"保存されたデータを使用して素早く分析",-1)),(0,n.Lk)("div",X,[(0,n.Lk)("button",{onClick:e[9]||(e[9]=function(){return u.goToTransitAnalysis&&u.goToTransitAnalysis.apply(u,arguments)}),class:"action-btn transit-btn"},e[23]||(e[23]=[(0,n.Lk)("div",{class:"btn-icon"},"🌟",-1),(0,n.Lk)("div",{class:"btn-content"},[(0,n.Lk)("h4",null,"行運盤分析"),(0,n.Lk)("p",null,"現在の運勢を詳しく分析")],-1)])),(0,n.Lk)("button",{onClick:e[10]||(e[10]=function(){return u.viewLastResults&&u.viewLastResults.apply(u,arguments)}),class:"action-btn results-btn"},e[24]||(e[24]=[(0,n.Lk)("div",{class:"btn-icon"},"📊",-1),(0,n.Lk)("div",{class:"btn-content"},[(0,n.Lk)("h4",null,"前回の結果"),(0,n.Lk)("p",null,"基本命盤を再表示")],-1)]))]),l.showDebug?((0,n.uX)(),(0,n.CE)("div",W,[e[33]||(e[33]=(0,n.Lk)("h4",null,"🔍 Debug Info:",-1)),(0,n.Lk)("div",I,[e[25]||(e[25]=(0,n.Lk)("strong",null,"hasStoredData:",-1)),(0,n.eW)(" "+(0,w.v_)(u.hasStoredData),1)]),(0,n.Lk)("div",q,[e[26]||(e[26]=(0,n.Lk)("strong",null,"userData exists:",-1)),(0,n.eW)(" "+(0,w.v_)(!!t.userData),1)]),t.userData?((0,n.uX)(),(0,n.CE)("div",$,[e[27]||(e[27]=(0,n.Lk)("strong",null,"userData.name:",-1)),(0,n.eW)(' "'+(0,w.v_)(t.userData.name)+'" ',1)])):(0,n.Q3)("",!0),t.userData?((0,n.uX)(),(0,n.CE)("div",V,[e[28]||(e[28]=(0,n.Lk)("strong",null,"userData.birthdate:",-1)),(0,n.eW)(' "'+(0,w.v_)(t.userData.birthdate)+'" ',1)])):(0,n.Q3)("",!0),t.userData?((0,n.uX)(),(0,n.CE)("div",K,[e[29]||(e[29]=(0,n.Lk)("strong",null,"userData.birthHour:",-1)),(0,n.eW)(" "+(0,w.v_)(t.userData.birthHour)+" ("+(0,w.v_)((0,L.A)(t.userData.birthHour))+") ",1)])):(0,n.Q3)("",!0),t.userData?((0,n.uX)(),(0,n.CE)("div",Q,[e[30]||(e[30]=(0,n.Lk)("strong",null,"userData.birthMinute:",-1)),(0,n.eW)(" "+(0,w.v_)(t.userData.birthMinute)+" ("+(0,w.v_)((0,L.A)(t.userData.birthMinute))+") ",1)])):(0,n.Q3)("",!0),t.userData?((0,n.uX)(),(0,n.CE)("div",Y,[e[31]||(e[31]=(0,n.Lk)("strong",null,"userData.birthplace:",-1)),(0,n.eW)(' "'+(0,w.v_)(t.userData.birthplace)+'" ',1)])):(0,n.Q3)("",!0),t.userData?((0,n.uX)(),(0,n.CE)("div",G,[e[32]||(e[32]=(0,n.Lk)("strong",null,"userData.gender:",-1)),(0,n.eW)(' "'+(0,w.v_)(t.userData.gender)+'" ',1)])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:e[11]||(e[11]=function(){return u.testTransitNavigation&&u.testTransitNavigation.apply(u,arguments)}),class:"debug-btn"},"🧪 测试路由跳转")])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),e[37]||(e[37]=(0,n.Fv)('<div class="features-section"><h3 class="features-title">機能紹介</h3><div class="features-grid"><div class="feature-card"><div class="feature-icon">🎯</div><h4>基本命盤</h4><p>生辰八字と星座位置の基本分析</p></div><div class="feature-card"><div class="feature-icon">⭐</div><h4>星盤圖</h4><p>インタラクティブな星盤の可視化</p></div><div class="feature-card"><div class="feature-icon">🌟</div><h4>行運盤分析</h4><p>現在の運勢の詳細な分析レポート</p></div><div class="feature-card"><div class="feature-icon">📈</div><h4>運勢予測</h4><p>未来の傾向と重要な時期の予測</p></div></div></div><footer class="footer"><p>© 2025 命盤 - 生辰八字・四柱推命・命盤占い・行運分析</p></footer>',2))])}r(8598),r(4114),r(9089),r(8940),r(8156),r(2762);const Z={name:"HomePage",data:function(){return{formData:{name:"",birthdate:"",birthHour:"",birthMinute:"",birthplace:"",gender:""},selectedCity:"",cityGroups:{},regionLabels:{japanese:"日本",chinese:"中国",hkTaiwan:"港澳台"},genderOptions:[{value:"male",label:"男性"},{value:"female",label:"女性"}],showDebug:!1}},computed:(0,v.A)((0,v.A)({},(0,p.L8)({userData:"getUserData",calculationResults:"getCalculationResults"})),{},{hasStoredData:function(){var t=this.userData&&this.userData.name&&""!==this.userData.name.trim()&&this.userData.birthdate&&null!==this.userData.birthHour&&void 0!==this.userData.birthHour&&""!==this.userData.birthHour&&null!==this.userData.birthMinute&&void 0!==this.userData.birthMinute&&""!==this.userData.birthMinute&&this.userData.birthplace&&""!==this.userData.birthplace.trim()&&this.userData.gender;return console.log("hasStoredData 计算结果:",t),t}}),watch:{userData:{handler:function(t){console.log("userData 变化:",t),t&&this.fillFormWithStoredData()},immediate:!0}},created:function(){this.cityGroups=(0,m.C2)(),console.log("HomePage created, userData:",this.userData)},mounted:function(){this.userData&&this.fillFormWithStoredData()},methods:{onCitySelect:function(){this.selectedCity&&(this.formData.birthplace=this.selectedCity)},fillFormWithStoredData:function(){this.userData&&(console.log("填充表单数据:",this.userData),this.formData={name:this.userData.name||"",birthdate:this.userData.birthdate||"",birthHour:String(void 0!==this.userData.birthHour?this.userData.birthHour:""),birthMinute:String(void 0!==this.userData.birthMinute?this.userData.birthMinute:""),birthplace:this.userData.birthplace||"",gender:this.userData.gender||""},this.userData.birthplace&&(this.selectedCity=this.userData.birthplace),console.log("填充后的表单数据:",this.formData))},submitForm:function(){var t=(0,v.A)((0,v.A)({},this.formData),{},{birthHour:parseInt(this.formData.birthHour),birthMinute:parseInt(this.formData.birthMinute),fullBirthDateTime:"".concat(this.formData.birthdate,"T").concat(String(this.formData.birthHour).padStart(2,"0"),":").concat(String(this.formData.birthMinute).padStart(2,"0"),":00")});console.log("提交表单数据:",t),this.$store.dispatch("saveUserData",t),this.$store.dispatch("calculateFortune",t),this.$router.push({name:"results",params:{id:Date.now()}})},goToTransitAnalysis:function(){var t=this;return(0,f.A)((0,g.A)().mark((function e(){var r;return(0,g.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("🌟 点击行运分析"),console.log("hasStoredData:",t.hasStoredData),console.log("当前 userData:",t.userData),t.hasStoredData){e.next=8;break}return r=[],t.userData?(t.userData.name&&""!==t.userData.name.trim()||r.push("姓名"),t.userData.birthdate||r.push("生年月日"),null!==t.userData.birthHour&&void 0!==t.userData.birthHour&&""!==t.userData.birthHour||r.push("时间"),t.userData.birthplace&&""!==t.userData.birthplace.trim()||r.push("出生地"),t.userData.gender||r.push("性别")):r.push("用户数据"),alert("先に以下の情報を入力してください: ".concat(r.join(", "))),e.abrupt("return");case 8:return e.prev=8,console.log("📍 准备跳转到行运分析页面..."),e.next=12,t.$router.push({name:"transit-analysis"});case 12:console.log("✅ 路由跳转成功"),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](8),console.error("❌ 路由跳转失败:",e.t0),alert("页面跳转失败，请稍后重试");case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))()},viewLastResults:function(){this.hasStoredData&&this.calculationResults?this.$router.push({name:"results",params:{id:"last"}}):alert("まず鑑定を実行してください")},testTransitNavigation:function(){console.log("🧪 测试路由跳转"),console.log("当前路由:",this.$route),console.log("路由器实例:",this.$router),this.$router.push({name:"transit-analysis"}).then((function(){console.log("✅ 测试跳转成功")}))["catch"]((function(t){console.error("❌ 测试跳转失败:",t)}))}}},tt=(0,u.A)(Z,[["render",z]]),et=tt;var rt=[{path:"/",name:"home",component:et},{path:"/results/:id",name:"results",component:function(){return r.e(275).then(r.bind(r,6275))}},{path:"/transit-analysis",name:"transit-analysis",component:function(){return r.e(554).then(r.bind(r,6554))},meta:{requiresUserData:!0}}],at=(0,h.aE)({history:(0,h.LA)("/meiban/"),routes:rt});at.beforeEach((function(t,e,r){if(console.log("路由守卫检查:",t.name,t.meta),t.meta.requiresUserData){var a=C.getters.getUserData;console.log("路由守卫检查用户数据:",a);var n=a&&a.name&&a.birthdate&&null!==a.birthHour&&void 0!==a.birthHour&&""!==a.birthHour&&null!==a.birthMinute&&void 0!==a.birthMinute&&""!==a.birthMinute&&a.birthplace&&a.gender;console.log("用户数据验证结果:",n),n?(console.log("用户数据验证通过，允许访问"),r()):(console.log("用户数据不完整，重定向到首页"),alert("行運分析需要完整的出生信息，請先填寫基本資料"),r({name:"home"}))}else r()}));const nt=at;(0,a.Ef)(c).use(C).use(nt).mount("#app")},3307:(t,e,r)=>{r.d(e,{lc:()=>S,Y6:()=>N,RV:()=>M,C2:()=>s});var a=r(8653),n=r(9258),o=(r(2008),r(4423),r(5276),r(3288),r(6099),r(1415),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(1699),r(7764),r(2953),r(8676)),l=(r(113),r(1629),r(4114),r(6910),r(8111),r(116),r(7588),r(5506),r(3500),{東京:{lat:35.6762,lng:139.6503,country:"JP"},东京:{lat:35.6762,lng:139.6503,country:"JP"},大阪:{lat:34.6937,lng:135.5023,country:"JP"},京都:{lat:35.0116,lng:135.7681,country:"JP"},横浜:{lat:35.4437,lng:139.638,country:"JP"},横滨:{lat:35.4437,lng:139.638,country:"JP"},名古屋:{lat:35.1815,lng:136.9066,country:"JP"},福岡:{lat:33.5904,lng:130.4017,country:"JP"},福冈:{lat:33.5904,lng:130.4017,country:"JP"},札幌:{lat:43.0642,lng:141.3469,country:"JP"},仙台:{lat:38.2682,lng:140.8694,country:"JP"},広島:{lat:34.3853,lng:132.4553,country:"JP"},广岛:{lat:34.3853,lng:132.4553,country:"JP"},沖縄:{lat:26.2125,lng:127.6792,country:"JP"},冲绳:{lat:26.2125,lng:127.6792,country:"JP"},北京:{lat:39.9042,lng:116.4074,country:"CN"},上海:{lat:31.2304,lng:121.4737,country:"CN"},广州:{lat:23.1291,lng:113.2644,country:"CN"},深圳:{lat:22.5431,lng:114.0579,country:"CN"},杭州:{lat:30.2741,lng:120.1551,country:"CN"},南京:{lat:32.0603,lng:118.7969,country:"CN"},苏州:{lat:31.2989,lng:120.5853,country:"CN"},武汉:{lat:30.5928,lng:114.3055,country:"CN"},成都:{lat:30.5728,lng:104.0668,country:"CN"},重庆:{lat:29.563,lng:106.5516,country:"CN"},西安:{lat:34.3416,lng:108.9398,country:"CN"},天津:{lat:39.3434,lng:117.3616,country:"CN"},青岛:{lat:36.0986,lng:120.3719,country:"CN"},大连:{lat:38.914,lng:121.6147,country:"CN"},厦门:{lat:24.4798,lng:118.0819,country:"CN"},福州:{lat:26.0745,lng:119.2965,country:"CN"},济南:{lat:36.6512,lng:117.1201,country:"CN"},郑州:{lat:34.7466,lng:113.6254,country:"CN"},长沙:{lat:28.2282,lng:112.9388,country:"CN"},哈尔滨:{lat:45.8038,lng:126.5349,country:"CN"},沈阳:{lat:41.8057,lng:123.4315,country:"CN"},长春:{lat:43.8171,lng:125.3235,country:"CN"},石家庄:{lat:38.0428,lng:114.5149,country:"CN"},太原:{lat:37.8706,lng:112.5489,country:"CN"},呼和浩特:{lat:40.8414,lng:111.7525,country:"CN"},银川:{lat:38.4681,lng:106.2731,country:"CN"},西宁:{lat:36.6171,lng:101.7782,country:"CN"},兰州:{lat:36.0611,lng:103.8343,country:"CN"},乌鲁木齐:{lat:43.8256,lng:87.6168,country:"CN"},拉萨:{lat:29.652,lng:91.1721,country:"CN"},昆明:{lat:25.0389,lng:102.7183,country:"CN"},贵阳:{lat:26.647,lng:106.6302,country:"CN"},南宁:{lat:22.817,lng:108.3669,country:"CN"},海口:{lat:20.0444,lng:110.1989,country:"CN"},三亚:{lat:18.2533,lng:109.5007,country:"CN"},台州:{lat:28.6568,lng:121.4281,country:"CN"},天台:{lat:29.1444,lng:121.0114,country:"CN"},天台县:{lat:29.1444,lng:121.0114,country:"CN"},玉环:{lat:28.1356,lng:121.2318,country:"CN"},玉环县:{lat:28.1356,lng:121.2318,country:"CN"},温州:{lat:28.0015,lng:120.6997,country:"CN"},嘉兴:{lat:30.7463,lng:120.755,country:"CN"},湖州:{lat:30.8936,lng:120.0856,country:"CN"},绍兴:{lat:30.0023,lng:120.581,country:"CN"},金华:{lat:29.1028,lng:119.6471,country:"CN"},衢州:{lat:28.9569,lng:118.8739,country:"CN"},舟山:{lat:29.985,lng:122.2068,country:"CN"},丽水:{lat:28.4517,lng:119.9217,country:"CN"},香港:{lat:22.3193,lng:114.1694,country:"HK"},澳门:{lat:22.1987,lng:113.5439,country:"MO"},澳門:{lat:22.1987,lng:113.5439,country:"MO"},台北:{lat:25.033,lng:121.5654,country:"TW"},臺北:{lat:25.033,lng:121.5654,country:"TW"},高雄:{lat:22.6273,lng:120.3014,country:"TW"},台中:{lat:24.1477,lng:120.6736,country:"TW"},臺中:{lat:24.1477,lng:120.6736,country:"TW"}}),u={北京市:"北京",上海市:"上海",天津市:"天津",重庆市:"重庆",河北:"石家庄",河北省:"石家庄",山西:"太原",山西省:"太原",内蒙古:"呼和浩特",辽宁:"沈阳",辽宁省:"沈阳",吉林:"长春",吉林省:"长春",黑龙江:"哈尔滨",黑龙江省:"哈尔滨",江苏:"南京",江苏省:"南京",浙江:"杭州",浙江省:"杭州",安徽:"合肥",安徽省:"合肥",福建:"福州",福建省:"福州",江西:"南昌",江西省:"南昌",山东:"济南",山东省:"济南",河南:"郑州",河南省:"郑州",湖北:"武汉",湖北省:"武汉",湖南:"长沙",湖南省:"长沙",广东:"广州",广东省:"广州",广西:"南宁",海南:"海口",海南省:"海口",四川:"成都",四川省:"成都",贵州:"贵阳",贵州省:"贵阳",云南:"昆明",云南省:"昆明",西藏:"拉萨",陕西:"西安",陕西省:"西安",甘肃:"兰州",甘肃省:"兰州",青海:"西宁",青海省:"西宁",宁夏:"银川",新疆:"乌鲁木齐"};function s(){var t={japanese:[],chinese:[],hkTaiwan:[]};return Object.entries(l).forEach((function(e){var r=(0,o.A)(e,2),a=r[0],n=r[1],l={value:a,label:a};"JP"!==n.country||t.japanese.find((function(t){return t.value===a}))?"CN"!==n.country||t.chinese.find((function(t){return t.value===a}))?["HK","MO","TW"].includes(n.country)&&!t.hkTaiwan.find((function(t){return t.value===a}))&&t.hkTaiwan.push(l):t.chinese.push(l):t.japanese.push(l)})),t.japanese.sort((function(t,e){return t.label.localeCompare(e.label)})),t.chinese.sort((function(t,e){return t.label.localeCompare(e.label)})),t.hkTaiwan.sort((function(t,e){return t.label.localeCompare(e.label)})),t}function i(t){if(l[t])return l[t];for(var e=0,r=Object.entries(l);e<r.length;e++){var a=(0,o.A)(r[e],2),n=a[0],s=a[1];if(t.includes(n)||n.includes(t))return s}for(var i=0,c=Object.entries(u);i<c.length;i++){var h=(0,o.A)(c[i],2),d=h[0],g=h[1];if(t.includes(d)&&l[g])return l[g]}return{lat:35.6762,lng:139.6503,country:"JP"}}var c=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],h=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],d=["白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座","水瓶座","双鱼座"],g={甲:"木",乙:"木",丙:"火",丁:"火",戊:"土",己:"土",庚:"金",辛:"金",壬:"水",癸:"水"},f={寅:"木",卯:"木",巳:"火",午:"火",申:"金",酉:"金",亥:"水",子:"水",辰:"土",戌:"土",丑:"土",未:"土"},v={1:"丑",2:"寅",3:"卯",4:"辰",5:"巳",6:"午",7:"未",8:"申",9:"酉",10:"戌",11:"亥",12:"子"},p={23:"子",0:"子",1:"丑",2:"丑",3:"寅",4:"寅",5:"卯",6:"卯",7:"辰",8:"辰",9:"巳",10:"巳",11:"午",12:"午",13:"未",14:"未",15:"申",16:"申",17:"酉",18:"酉",19:"戌",20:"戌",21:"亥",22:"亥"};function m(t){return t%=360,t<0?t+360:t}function b(t){return t*Math.PI/180}function y(t,e,r,a,n){e<=2&&(t-=1,e+=12);var o=Math.floor(t/100),l=2-o+Math.floor(o/4),u=Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r+l-1524.5,s=(a+n/60)/24;return u+s}function D(t,e){var r=(t-2451545)/36525,a=280.46061837+360.98564736629*(t-2451545)+387933e-9*r*r-r*r*r/3871e4,n=(a+e)%360;return n<0?n+360:n}function k(t){var e=t-2451545,r=(280.46+.9856474*e)%360,a=(357.528+.9856003*e)%360*Math.PI/180,n=1.915*Math.sin(a)+.02*Math.sin(2*a),o=(r+n)%360;return o<0?o+360:o}function C(t){if(t<240){if(t<120){var e=9.615+t/120*10.385;return(t-e+360)%360}var r=(t-120)/120,a=20+9*r;return(t-a+360)%360}return t<290?(t-191.549+360)%360:(t-45.06+360)%360}function L(t){var e=(t-2451545)/36525,r=m(218.3164591+481267.88134236*e-.0013268*e*e),a=m(134.9634114+477198.8676313*e+.008997*e*e),n=m(357.5291092+35999.0502909*e-1536e-7*e*e),o=m(297.8502042+445267.1115168*e-.00163*e*e),l=m(93.2720993+483202.0175273*e-.0034029*e*e),u=6.288774*Math.sin(b(a))+1.274027*Math.sin(b(2*o-a))+.658314*Math.sin(b(2*o))+.213618*Math.sin(b(2*a))-.185116*Math.sin(b(n))-.114332*Math.sin(b(2*l)),s=m(r+u);return s}function w(t){var e=Math.floor(t/30),r=Math.floor(t%30),a=Math.floor(60*(t%30-r));return{sign:d[e],degree:r,minute:a,longitude:t}}function S(t){try{console.log("🔍 开始计算占星位置 - 调试信息:"),console.log("输入数据:",t);var e=new Date(t.fullBirthDateTime);console.log("本地时间:",e);var r=i(t.birthplace);console.log("坐标信息:",r);var a=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),l=e.getHours(),u=e.getMinutes();console.log("解析时间:",{year:a,month:n,day:o,hour:l,minute:u});var s=y(a,n,o,l,u);console.log("儒略日:",s);var c=k(s);console.log("太阳黄经:",c);var h=L(s);console.log("月亮黄经:",h);var d=D(s,r.lng);console.log("恒星时:",d,"度 (第"+(Math.floor(d/90)+1)+"象限)");var g=C(d);console.log("上升黄经:",g);var f={sun:w(c),moon:w(h),ascendant:w(g)};return console.log("最终结果:",f),console.log("🎯 占星位置计算完成"),f}catch(v){return console.error("占星位置计算出错:",v),{ascendant:{sign:"双子座",degree:4,minute:11},sun:{sign:"双鱼座",degree:13,minute:49},moon:{sign:"水瓶座",degree:18,minute:56}}}}function N(t){var e=["白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座","水瓶座","双鱼座"],r=e.indexOf(t.sign);return-1===r?0:30*r+t.degree+t.minute/60}function A(t){try{var e=new Date(t.fullBirthDateTime),r=e.getFullYear(),a=e.getMonth()+1,o=e.getHours(),l=(r-4)%10,u=(r-4)%12,s=[2,4,6,8,0][l%5],i=(s+a-1)%10,d=Math.floor((e-new Date(1900,0,1))/864e5),m=d%10,b=d%12,y=m%5*2,D=o>=23||o<1?0:Math.floor((o+1)/2),k=(y+D)%10,C=[g[c[l]],g[c[i]],g[c[m]],g[c[k]],f[h[u]],f[v[a]],f[h[b]],f[p[o]||"子"]].filter(Boolean);return{eightCharacters:{year:{heavenlyStem:c[l],earthlyBranch:h[u]},month:{heavenlyStem:c[i],earthlyBranch:v[a]},day:{heavenlyStem:c[m],earthlyBranch:h[b]},hour:{heavenlyStem:c[k],earthlyBranch:p[o]||"子"}},elements:(0,n.A)(new Set(C))}}catch(L){return console.error("八字计算出错:",L),null}}function E(t,e){if(!t)return null;var r=t.elements,a=["木","火","土","金","水"].filter((function(t){return r.includes(t)})).length,n=a>=4?"大吉":3===a?"吉":"凶",o=e.gender,l="★★★☆☆",u="★★★☆☆",s="★★★☆☆",i="★★★☆☆";return"male"===o?(r.includes("金")&&r.includes("水")&&(l="★★★★★"),r.includes("木")&&r.includes("火")&&(u="★★★★☆"),r.includes("土")&&r.includes("火")&&(s="★★★★☆"),r.includes("水")&&r.includes("木")&&(i="★★★★★")):(r.includes("火")&&r.includes("土")&&(l="★★★★☆"),r.includes("金")&&r.includes("水")&&(u="★★★★★"),r.includes("木")&&r.includes("水")&&(s="★★★★★"),r.includes("土")&&r.includes("金")&&(i="★★★★☆")),{overview:n,career:l,wealth:u,love:s,health:i}}function M(t){try{var e=A(t),r=S(t),n=E(e,t);return(0,a.A)((0,a.A)({},e),{},{astrologyPositions:r,fortune:n})}catch(o){return console.error("完整命盘计算出错:",o),{eightCharacters:{year:{heavenlyStem:"甲",earthlyBranch:"子"},month:{heavenlyStem:"丙",earthlyBranch:"寅"},day:{heavenlyStem:"戊",earthlyBranch:"午"},hour:{heavenlyStem:"庚",earthlyBranch:"申"}},elements:["木","火","土","金"],astrologyPositions:{ascendant:{sign:"双子座",degree:4,minute:11},sun:{sign:"双鱼座",degree:13,minute:49},moon:{sign:"水瓶座",degree:18,minute:56}},fortune:{overview:"大吉",career:"★★★☆☆",wealth:"★★★★☆",love:"★★★★★",health:"★★★☆☆"}}}}}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,r),o.exports}r.m=t,(()=>{var t=[];r.O=(e,a,n,o)=>{if(!a){var l=1/0;for(c=0;c<t.length;c++){for(var[a,n,o]=t[c],u=!0,s=0;s<a.length;s++)(!1&o||l>=o)&&Object.keys(r.O).every((t=>r.O[t](a[s])))?a.splice(s--,1):(u=!1,o<l&&(l=o));if(u){t.splice(c--,1);var i=n();void 0!==i&&(e=i)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[a,n,o]}})(),(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return r.d(e,{a:e}),e}})(),(()=>{r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}})(),(()=>{r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,a)=>(r.f[a](t,e),e)),[]))})(),(()=>{r.u=t=>"js/"+t+"."+{275:"2b1c688a",554:"e1a44cb8",599:"1cffc112",694:"cf01f16b"}[t]+".js"})(),(()=>{r.miniCssF=t=>"css/"+t+"."+{275:"b62e84c9",554:"dc0cd33c"}[t]+".css"})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="meiban-app:";r.l=(a,n,o,l)=>{if(t[a])t[a].push(n);else{var u,s;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var h=i[c];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==e+o){u=h;break}}u||(s=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",e+o),u.src=a),t[a]=[n];var d=(e,r)=>{u.onerror=u.onload=null,clearTimeout(g);var n=t[a];if(delete t[a],u.parentNode&&u.parentNode.removeChild(u),n&&n.forEach((t=>t(r))),e)return e(r)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}})(),(()=>{r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{r.p="/meiban/"})(),(()=>{if("undefined"!==typeof document){var t=(t,e,a,n,o)=>{var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",r.nc&&(l.nonce=r.nc);var u=r=>{if(l.onerror=l.onload=null,"load"===r.type)n();else{var a=r&&r.type,u=r&&r.target&&r.target.href||e,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+u+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=u,l.parentNode&&l.parentNode.removeChild(l),o(s)}};return l.onerror=l.onload=u,l.href=e,a?a.parentNode.insertBefore(l,a.nextSibling):document.head.appendChild(l),l},e=(t,e)=>{for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var n=r[a],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===t||o===e))return n}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){n=l[a],o=n.getAttribute("data-href");if(o===t||o===e)return n}},a=a=>new Promise(((n,o)=>{var l=r.miniCssF(a),u=r.p+l;if(e(l,u))return n();t(a,u,null,n,o)})),n={524:0};r.f.miniCss=(t,e)=>{var r={275:1,554:1};n[t]?e.push(n[t]):0!==n[t]&&r[t]&&e.push(n[t]=a(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))}}})(),(()=>{var t={524:0};r.f.j=(e,a)=>{var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise(((r,a)=>n=t[e]=[r,a]));a.push(n[2]=o);var l=r.p+r.u(e),u=new Error,s=a=>{if(r.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+l+")",u.name="ChunkLoadError",u.type=o,u.request=l,n[1](u)}};r.l(l,s,"chunk-"+e,e)}},r.O.j=e=>0===t[e];var e=(e,a)=>{var n,o,[l,u,s]=a,i=0;if(l.some((e=>0!==t[e]))){for(n in u)r.o(u,n)&&(r.m[n]=u[n]);if(s)var c=s(r)}for(e&&e(a);i<l.length;i++)o=l[i],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},a=self["webpackChunkmeiban_app"]=self["webpackChunkmeiban_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var a=r.O(void 0,[504],(()=>r(756)));a=r.O(a)})();
//# sourceMappingURL=app.764d585f.js.map