{"version":3,"file":"js/694.c5d36f42.js","mappings":"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","sources":["webpack://meiban-app/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://meiban-app/./src/utils/transitCalculator.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar $RangeError = RangeError;\nvar $String = String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar nativeToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = $String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return nativeToFixed(0.00008, 3) !== '0.000' ||\n    nativeToFixed(0.9, 0) !== '1' ||\n    nativeToFixed(1.255, 2) !== '1.25' ||\n    nativeToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    // TODO: ES2018 increased the maximum number of fraction digits to 100, need to improve the implementation\n    if (fractDigits < 0 || fractDigits > 20) throw new $RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number !== number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return $String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","/**\n * è¡Œè¿ç›˜è®¡ç®—æ¨¡å—\n * è®¡ç®—è¡Œè¿è¡Œæ˜Ÿä½ç½®ï¼Œåˆ†æç›¸ä½å…³ç³»ï¼Œç”Ÿæˆè¿åŠ¿æŠ¥å‘Š\n */\n\n// æ­£ç¡®å¯¼å…¥ç°æœ‰æ¨¡å—çš„å‡½æ•°\nimport { \n  calculateAstrologyPositions,\n  calculateDegreeFromSign,\n} from './calculator.js';\n\n// è¡Œæ˜Ÿå‘¨æœŸæ•°æ®\nconst PLANET_CYCLES = {\n  sun: { period: 365.25, name: 'å¤ªé˜³' },\n  moon: { period: 29.53, name: 'æœˆäº®' },\n  mercury: { period: 87.97, name: 'æ°´æ˜Ÿ' },\n  venus: { period: 224.7, name: 'é‡‘æ˜Ÿ' },\n  mars: { period: 686.98, name: 'ç«æ˜Ÿ' },\n  jupiter: { period: 4332.59, name: 'æœ¨æ˜Ÿ' }, // 11.86å¹´\n  saturn: { period: 10759.22, name: 'åœŸæ˜Ÿ' }, // 29.46å¹´\n  uranus: { period: 30688.5, name: 'å¤©ç‹æ˜Ÿ' }, // 84å¹´\n  neptune: { period: 60182, name: 'æµ·ç‹æ˜Ÿ' }, // 164.8å¹´\n  pluto: { period: 90560, name: 'å†¥ç‹æ˜Ÿ' }  // 248å¹´\n};\n\n// ç›¸ä½é…ç½®\nconst ASPECT_CONFIG = {\n  åˆç›¸: { angle: 0, orb: 8, intensity: 'strong', type: 'conjunction' },\n  å…­åˆ†ç›¸: { angle: 60, orb: 4, intensity: 'moderate', type: 'sextile' },\n  å››åˆ†ç›¸: { angle: 90, orb: 6, intensity: 'strong', type: 'square' },\n  ä¸‰åˆ†ç›¸: { angle: 120, orb: 6, intensity: 'strong', type: 'trine' },\n  å¯¹åˆ†ç›¸: { angle: 180, orb: 8, intensity: 'strong', type: 'opposition' }\n};\n\n// é‡è¦å¹´é¾„èŠ‚ç‚¹é…ç½®\nconst LIFE_CYCLES = {\n  saturn_return_1: { age: 29, duration: 2, name: 'ç¬¬ä¸€æ¬¡åœŸæ˜Ÿå›å½’' },\n  jupiter_return_1: { age: 12, duration: 1, name: 'ç¬¬ä¸€æ¬¡æœ¨æ˜Ÿå›å½’' },\n  jupiter_return_2: { age: 24, duration: 1, name: 'ç¬¬äºŒæ¬¡æœ¨æ˜Ÿå›å½’' },\n  jupiter_return_3: { age: 36, duration: 1, name: 'ç¬¬ä¸‰æ¬¡æœ¨æ˜Ÿå›å½’' },\n  jupiter_return_4: { age: 48, duration: 1, name: 'ç¬¬å››æ¬¡æœ¨æ˜Ÿå›å½’' },\n  saturn_opposition: { age: 44, duration: 2, name: 'åœŸæ˜Ÿå¯¹å†²' },\n  saturn_return_2: { age: 58, duration: 2, name: 'ç¬¬äºŒæ¬¡åœŸæ˜Ÿå›å½’' }\n};\n\n/**\n * è®¡ç®—ä¸¤ä¸ªè§’åº¦ä¹‹é—´çš„å·®å€¼\n */\nfunction calculateAngleDifference(angle1, angle2) {\n  let diff = Math.abs(angle1 - angle2);\n  if (diff > 180) {\n    diff = 360 - diff;\n  }\n  return diff;\n}\n\n/**\n * åˆ¤æ–­ç›¸ä½æ˜¯å¦åœ¨å®¹è®¸åº¦èŒƒå›´å†…\n */\nfunction isAspectValid(actualAngle, aspectAngle, orb) {\n  return Math.abs(actualAngle - aspectAngle) <= orb;\n}\n\n/**\n * å®‰å…¨çš„åº¦æ•°è®¡ç®—å‡½æ•° - å¤„ç†å¯èƒ½çš„æ•°æ®æ ¼å¼é—®é¢˜\n */\nfunction safeDegreeCalculation(position) {\n  try {\n    if (typeof position === 'number') {\n      return position;\n    }\n    \n    if (position && typeof position === 'object') {\n      // å¦‚æœå·²ç»æœ‰ longitude å±æ€§ï¼Œç›´æ¥ä½¿ç”¨\n      if (position.longitude !== undefined) {\n        return position.longitude;\n      }\n      \n      // å¦åˆ™ä»æ˜Ÿåº§ä¿¡æ¯è®¡ç®—\n      return calculateDegreeFromSign(position);\n    }\n    \n    console.warn('æ— æ•ˆçš„ä½ç½®æ•°æ®:', position);\n    return 0;\n  } catch (error) {\n    console.error('åº¦æ•°è®¡ç®—é”™è¯¯:', error, position);\n    return 0;\n  }\n}\n\n/**\n * è®¡ç®—è¡Œè¿ç›¸ä½\n */\nfunction calculateTransitAspects(natalPositions, transitPositions) {\n  const aspects = [];\n\n  try {\n    // éå†è¡Œè¿è¡Œæ˜Ÿ\n    Object.keys(transitPositions).forEach(transitPlanet => {\n      if (transitPlanet === 'ascendant') return; // è·³è¿‡ä¸Šå‡ç‚¹\n\n      const transitPos = transitPositions[transitPlanet];\n      const transitDegree = safeDegreeCalculation(transitPos);\n\n      // éå†æœ¬å‘½è¡Œæ˜Ÿ\n      Object.keys(natalPositions).forEach(natalPlanet => {\n        const natalPos = natalPositions[natalPlanet];\n        const natalDegree = safeDegreeCalculation(natalPos);\n\n        const angleDiff = calculateAngleDifference(transitDegree, natalDegree);\n\n        // æ£€æŸ¥æ¯ç§ç›¸ä½\n        Object.entries(ASPECT_CONFIG).forEach(([aspectName, aspectData]) => {\n          if (isAspectValid(angleDiff, aspectData.angle, aspectData.orb)) {\n            aspects.push({\n              transitPlanet: PLANET_CYCLES[transitPlanet]?.name || transitPlanet,\n              natalPlanet: PLANET_CYCLES[natalPlanet]?.name || natalPlanet,\n              aspect: aspectName,\n              orb: Math.abs(angleDiff - aspectData.angle),\n              intensity: aspectData.intensity,\n              type: aspectData.type,\n              applying: transitDegree < natalDegree, // ç®€åŒ–åˆ¤æ–­\n              transitSign: transitPos.sign || 'æœªçŸ¥',\n              natalSign: natalPos.sign || 'æœªçŸ¥'\n            });\n          }\n        });\n      });\n    });\n\n    // æŒ‰å®¹è®¸åº¦æ’åºï¼Œç²¾ç¡®ç›¸ä½ä¼˜å…ˆ\n    return aspects.sort((a, b) => a.orb - b.orb);\n    \n  } catch (error) {\n    console.error('è®¡ç®—è¡Œè¿ç›¸ä½æ—¶å‡ºé”™:', error);\n    return [];\n  }\n}\n\n/**\n * è®¡ç®—å½“å‰å¹´é¾„æ‰€å¤„çš„ç”Ÿå‘½å‘¨æœŸ\n */\nfunction getCurrentLifeCycles(birthDate, analysisDate) {\n  try {\n    const birthTime = new Date(birthDate).getTime();\n    const analysisTime = new Date(analysisDate).getTime();\n    const ageInYears = (analysisTime - birthTime) / (1000 * 60 * 60 * 24 * 365.25);\n\n    const currentCycles = [];\n    \n    Object.entries(LIFE_CYCLES).forEach(([cycleKey, cycleData]) => {\n      const cycleStart = cycleData.age - cycleData.duration / 2;\n      const cycleEnd = cycleData.age + cycleData.duration / 2;\n      \n      if (ageInYears >= cycleStart && ageInYears <= cycleEnd) {\n        currentCycles.push({\n          ...cycleData,\n          key: cycleKey,\n          progress: (ageInYears - cycleStart) / cycleData.duration\n        });\n      }\n    });\n\n    return currentCycles;\n  } catch (error) {\n    console.error('è®¡ç®—ç”Ÿå‘½å‘¨æœŸæ—¶å‡ºé”™:', error);\n    return [];\n  }\n}\n\n/**\n * æ ¹æ®ç›¸ä½ç”Ÿæˆè§£è¯»æ–‡æœ¬\n */\nfunction generateAspectInterpretation(aspect) {\n  const interpretations = {\n    // æœˆäº®ç›¸ä½\n    'æœˆäº®-åˆç›¸': {\n      positive: 'æƒ…ç»ªå’Œç›´è§‰å¾—åˆ°å¼ºåŒ–ï¼Œæ˜¯å¼€å§‹æ–°çš„æƒ…æ„Ÿå‘¨æœŸçš„å¥½æ—¶æœºã€‚',\n      challenging: 'æƒ…ç»ªå¯èƒ½è¾ƒä¸ºå¼ºçƒˆï¼Œéœ€è¦å­¦ä¼šå¹³è¡¡å†…åœ¨æ„Ÿå—ã€‚'\n    },\n    'æœˆäº®-ä¸‰åˆ†ç›¸': {\n      positive: 'æƒ…æ„ŸæµåŠ¨é¡ºç•…ï¼Œä¸ä»–äººçš„å…³ç³»å’Œè°ï¼Œç›´è§‰åŠ›å¢å¼ºã€‚',\n      challenging: 'è¿‡åº¦ä¾èµ–æƒ…æ„Ÿåˆ¤æ–­ï¼Œå¯èƒ½å¿½ç•¥ç†æ€§åˆ†æã€‚'\n    },\n    'æœˆäº®-å››åˆ†ç›¸': {\n      positive: 'æƒ…æ„ŸæŒ‘æˆ˜ä¿ƒè¿›å†…åœ¨æˆé•¿ï¼Œå­¦ä¼šå¤„ç†å¤æ‚æƒ…ç»ªã€‚',\n      challenging: 'æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œäººé™…å…³ç³»å¯èƒ½å‡ºç°ç´§å¼ ã€‚'\n    },\n\n    // æ°´æ˜Ÿç›¸ä½\n    'æ°´æ˜Ÿ-åˆç›¸': {\n      positive: 'æ€ç»´æ•é”ï¼Œæ²Ÿé€šèƒ½åŠ›å¢å¼ºï¼Œå­¦ä¹ æ–°äº‹ç‰©çš„å¥½æ—¶æœºã€‚',\n      challenging: 'æ€ç»ªè¿‡äºæ´»è·ƒï¼Œå¯èƒ½å¯¼è‡´ç„¦è™‘æˆ–å†³ç­–å›°éš¾ã€‚'\n    },\n    'æ°´æ˜Ÿ-ä¸‰åˆ†ç›¸': {\n      positive: 'é€»è¾‘æ€ç»´æ¸…æ™°ï¼Œè¡¨è¾¾èƒ½åŠ›å¼ºï¼Œé€‚åˆè°ˆåˆ¤å’Œå­¦ä¹ ã€‚',\n      challenging: 'å¯èƒ½è¿‡äºç†æ€§ï¼Œå¿½ç•¥æƒ…æ„Ÿå› ç´ ã€‚'\n    },\n\n    // é‡‘æ˜Ÿç›¸ä½  \n    'é‡‘æ˜Ÿ-åˆç›¸': {\n      positive: 'é­…åŠ›å¢å¼ºï¼Œäººé™…å…³ç³»æ”¹å–„ï¼Œè‰ºæœ¯åˆ›é€ åŠ›æå‡ã€‚',\n      challenging: 'å¯èƒ½è¿‡äºæ³¨é‡å¤–è¡¨æˆ–ç‰©è´¨äº«å—ã€‚'\n    },\n    'é‡‘æ˜Ÿ-ä¸‰åˆ†ç›¸': {\n      positive: 'çˆ±æƒ…è¿ä½³ï¼Œç¤¾äº¤æ´»è·ƒï¼Œå®¡ç¾å“å‘³æå‡ã€‚',\n      challenging: 'å¯èƒ½è¿‡äºè¿½æ±‚å’Œè°ï¼Œé¿å…å¿…è¦å†²çªã€‚'\n    },\n\n    // åœŸæ˜Ÿç›¸ä½\n    'åœŸæ˜Ÿ-åˆç›¸': {\n      positive: 'å»ºç«‹ç¨³å›ºåŸºç¡€ï¼Œæ‰¿æ‹…é‡è¦è´£ä»»ï¼Œè·å¾—é•¿æœŸæˆå°±ã€‚',\n      challenging: 'å‹åŠ›å¢å¤§ï¼Œå¯èƒ½æ„Ÿåˆ°é™åˆ¶å’Œè´Ÿæ‹…ã€‚'\n    },\n    'åœŸæ˜Ÿ-ä¸‰åˆ†ç›¸': {\n      positive: 'é€šè¿‡åŠªåŠ›è·å¾—ç¨³å®šæˆæœï¼Œè´£ä»»æ„Ÿå¢å¼ºã€‚',\n      challenging: 'å¯èƒ½è¿‡äºä¿å®ˆï¼Œç¼ºä¹å†’é™©ç²¾ç¥ã€‚'\n    },\n    'åœŸæ˜Ÿ-å››åˆ†ç›¸': {\n      positive: 'é€šè¿‡æŒ‘æˆ˜è·å¾—æˆé•¿ï¼Œå»ºç«‹æ›´å¼ºçš„è‡ªå¾‹èƒ½åŠ›ã€‚',\n      challenging: 'é¢ä¸´é‡è¦è€ƒéªŒï¼Œéœ€è¦åšå‡ºè‰°éš¾å†³å®šã€‚'\n    },\n\n    // å¤©ç‹æ˜Ÿç›¸ä½\n    'å¤©ç‹æ˜Ÿ-åˆç›¸': {\n      positive: 'çªç ´æ—§æœ‰æ¨¡å¼ï¼Œè¿æ¥é©å‘½æ€§å˜åŒ–ï¼Œåˆ›æ–°èƒ½åŠ›å¼ºã€‚',\n      challenging: 'å˜åŒ–æ¥å¾—çªç„¶ï¼Œå¯èƒ½å¸¦æ¥ä¸ç¨³å®šæ„Ÿã€‚'\n    },\n    'å¤©ç‹æ˜Ÿ-å››åˆ†ç›¸': {\n      positive: 'è¢«è¿«æ”¹å˜ä¿ƒè¿›ä¸ªäººæˆé•¿ï¼Œè·å¾—æ–°çš„è‡ªç”±ã€‚',\n      challenging: 'é¢ä¸´çªå‘å˜æ•…ï¼ŒåŸæœ‰è®¡åˆ’å¯èƒ½è¢«æ‰“ä¹±ã€‚'\n    },\n\n    // æµ·ç‹æ˜Ÿç›¸ä½\n    'æµ·ç‹æ˜Ÿ-åˆç›¸': {\n      positive: 'ç²¾ç¥è§‰é†’ï¼Œç›´è§‰å¢å¼ºï¼Œè‰ºæœ¯çµæ„Ÿä¸°å¯Œã€‚',\n      challenging: 'ç°å®æ„Ÿæ¨¡ç³Šï¼Œå¯èƒ½å‡ºç°è¿·æƒ‘æˆ–é€ƒé¿ã€‚'\n    },\n    'æµ·ç‹æ˜Ÿ-ä¸‰åˆ†ç›¸': {\n      positive: 'çµæ€§æˆé•¿ï¼ŒåŒç†å¿ƒå¢å¼ºï¼Œåˆ›é€ åŠ›æå‡ã€‚',\n      challenging: 'å¯èƒ½è¿‡äºç†æƒ³åŒ–ï¼Œå¿½è§†ç°å®é—®é¢˜ã€‚'\n    }\n  };\n\n  const key = `${aspect.transitPlanet}-${aspect.aspect}`;\n  const interpretation = interpretations[key];\n  \n  if (!interpretation) {\n    return `${aspect.transitPlanet}${aspect.aspect}${aspect.natalPlanet}ï¼šè¿™ä¸ªç›¸ä½å¸¦æ¥é‡è¦çš„èƒ½é‡äº¤æµï¼Œå®¹è®¸åº¦${aspect.orb.toFixed(1)}åº¦ã€‚`;\n  }\n\n  // æ ¹æ®ç›¸ä½ç±»å‹é€‰æ‹©æ­£é¢æˆ–æŒ‘æˆ˜æ€§è§£è¯»\n  const isPositive = ['ä¸‰åˆ†ç›¸', 'å…­åˆ†ç›¸'].includes(aspect.aspect);\n  return interpretation[isPositive ? 'positive' : 'challenging'];\n}\n\n/**\n * ç”Ÿæˆå¤–è¡Œæ˜Ÿå½±å“åˆ†æ\n */\nfunction generateOuterPlanetAnalysis(aspects, currentAge) {\n  const outerPlanetAspects = aspects.filter(aspect => \n    ['åœŸæ˜Ÿ', 'å¤©ç‹æ˜Ÿ', 'æµ·ç‹æ˜Ÿ', 'å†¥ç‹æ˜Ÿ'].includes(aspect.transitPlanet)\n  );\n\n  const analysis = {\n    saturn: [],\n    uranus: [],\n    neptune: [],\n    pluto: []\n  };\n\n  outerPlanetAspects.forEach(aspect => {\n    const planetKey = {\n      'åœŸæ˜Ÿ': 'saturn',\n      'å¤©ç‹æ˜Ÿ': 'uranus', \n      'æµ·ç‹æ˜Ÿ': 'neptune',\n      'å†¥ç‹æ˜Ÿ': 'pluto'\n    }[aspect.transitPlanet];\n\n    if (planetKey) {\n      analysis[planetKey].push({\n        ...aspect,\n        interpretation: generateAspectInterpretation(aspect)\n      });\n    }\n  });\n\n  return {\n    ...analysis,\n    summary: generateLifePhaseAnalysis(currentAge)\n  };\n}\n\n/**\n * ç”Ÿæˆäººç”Ÿé˜¶æ®µåˆ†æ\n */\nfunction generateLifePhaseAnalysis(age) {\n  if (age >= 42 && age <= 46) {\n    return {\n      phase: 'ä¸­å¹´è½¬åŒ–æœŸ',\n      description: 'æ­£å¤„äºäººç”Ÿçš„é‡è¦è½¬æŠ˜ç‚¹ï¼Œå¤–è¡Œæ˜Ÿçš„å½±å“ä¿ƒä½¿æ‚¨é‡æ–°è¯„ä¼°äººç”Ÿæ–¹å‘å’Œä»·å€¼è§‚ã€‚è¿™æ˜¯ä¸€ä¸ªæ·±åº¦å†…çœå’Œè½¬åŒ–çš„æ—¶æœŸã€‚',\n      keyThemes: ['è´£ä»»ä¸è‡ªç”±çš„å¹³è¡¡', 'å†…åœ¨èœ•å˜', 'äº‹ä¸šé‡æ–°å®šä½', 'ç²¾ç¥è§‰é†’']\n    };\n  } else if (age >= 28 && age <= 32) {\n    return {\n      phase: 'æˆå¹´ç¡®ç«‹æœŸ',\n      description: 'åœŸæ˜Ÿå›å½’å¸¦æ¥æˆå¹´è´£ä»»çš„ç¡®ç«‹ï¼Œè¿™æ˜¯ä»é’å¹´è¿‡æ¸¡åˆ°æˆç†Ÿæˆå¹´äººçš„å…³é”®æ—¶æœŸã€‚',\n      keyThemes: ['æ‰¿æ‹…è´£ä»»', 'å»ºç«‹åŸºç¡€', 'ç¡®ç«‹æ–¹å‘', 'æˆç†Ÿæˆé•¿']\n    };\n  } else if (age >= 35 && age <= 37) {\n    return {\n      phase: 'æ‰©å±•æˆé•¿æœŸ', \n      description: 'æœ¨æ˜Ÿå›å½’å¸¦æ¥æ–°çš„æˆé•¿æœºé‡å’Œè§†é‡æ‰©å±•ï¼Œæ˜¯è¿½æ±‚æ›´é«˜ç›®æ ‡çš„è‰¯å¥½æ—¶æœŸã€‚',\n      keyThemes: ['æœºé‡æ‰©å±•', 'è§†é‡å¼€é˜”', 'å­¦ä¹ æˆé•¿', 'ç§¯æè¿›å–']\n    };\n  } else {\n    return {\n      phase: 'ç¨³å®šå‘å±•æœŸ',\n      description: 'å½“å‰å¤„äºç›¸å¯¹ç¨³å®šçš„å‘å±•é˜¶æ®µï¼Œé€‚åˆå·©å›ºæ—¢æœ‰æˆæœå¹¶ä¸ºæœªæ¥åšå‡†å¤‡ã€‚',\n      keyThemes: ['ç¨³å®šå‘å±•', 'ç§¯ç´¯ç»éªŒ', 'å®Œå–„æŠ€èƒ½', 'å‡†å¤‡æœºé‡']\n    };\n  }\n}\n\n/**\n * è®¡ç®—å®Œæ•´çš„è¡Œè¿ç›˜æ•°æ®\n */\nexport function calculateTransitChart(birthData, transitDate) {\n  try {\n    console.log('ğŸŒŸ å¼€å§‹è®¡ç®—è¡Œè¿ç›˜');\n    console.log('å‡ºç”Ÿæ•°æ®:', birthData);\n    console.log('è¡Œè¿æ—¥æœŸ:', transitDate);\n\n    // è®¡ç®—æœ¬å‘½ç›˜ä½ç½®\n    console.log('ğŸ“ è®¡ç®—æœ¬å‘½ç›˜ä½ç½®...');\n    const natalPositions = calculateAstrologyPositions(birthData);\n    console.log('æœ¬å‘½ç›˜ä½ç½®:', natalPositions);\n    \n    // è®¡ç®—è¡Œè¿ç›˜ä½ç½®\n    console.log('ğŸ“ è®¡ç®—è¡Œè¿ç›˜ä½ç½®...');\n    const transitUserData = {\n      ...birthData,\n      fullBirthDateTime: transitDate\n    };\n    const transitPositions = calculateAstrologyPositions(transitUserData);\n    console.log('è¡Œè¿ç›˜ä½ç½®:', transitPositions);\n\n    // è®¡ç®—å¹´é¾„\n    const birthTime = new Date(birthData.fullBirthDateTime);\n    const transitTime = new Date(transitDate);\n    const ageInYears = (transitTime - birthTime) / (1000 * 60 * 60 * 24 * 365.25);\n    console.log('å½“å‰å¹´é¾„:', ageInYears);\n\n    // è®¡ç®—ç›¸ä½\n    console.log('ğŸ“ è®¡ç®—ç›¸ä½å…³ç³»...');\n    const aspects = calculateTransitAspects(natalPositions, transitPositions);\n    console.log('ç›¸ä½å…³ç³»:', aspects);\n\n    // è·å–å½“å‰ç”Ÿå‘½å‘¨æœŸ\n    console.log('ğŸ“ åˆ†æç”Ÿå‘½å‘¨æœŸ...');\n    const currentCycles = getCurrentLifeCycles(birthData.fullBirthDateTime, transitDate);\n    console.log('å½“å‰ç”Ÿå‘½å‘¨æœŸ:', currentCycles);\n\n    // ç”Ÿæˆå¤–è¡Œæ˜Ÿåˆ†æ\n    console.log('ğŸ“ ç”Ÿæˆå¤–è¡Œæ˜Ÿåˆ†æ...');\n    const outerPlanetAnalysis = generateOuterPlanetAnalysis(aspects, ageInYears);\n    console.log('å¤–è¡Œæ˜Ÿåˆ†æ:', outerPlanetAnalysis);\n\n    const result = {\n      birthData,\n      transitDate,\n      age: Math.floor(ageInYears),\n      natalPositions,\n      transitPositions,\n      aspects: aspects.slice(0, 10), // å–å‰10ä¸ªæœ€é‡è¦çš„ç›¸ä½\n      currentCycles,\n      outerPlanetAnalysis,\n      metadata: {\n        calculationTime: new Date().toISOString(),\n        aspectCount: aspects.length,\n        majorAspects: aspects.filter(a => a.intensity === 'strong').length\n      }\n    };\n\n    console.log('âœ… è¡Œè¿ç›˜è®¡ç®—å®Œæˆ');\n    return result;\n\n  } catch (error) {\n    console.error('âŒ è¡Œè¿ç›˜è®¡ç®—å¤±è´¥:', error);\n    console.error('é”™è¯¯å †æ ˆ:', error.stack);\n    throw new Error(`è¡Œè¿ç›˜è®¡ç®—å¤±è´¥: ${error.message}`);\n  }\n}\n\n/**\n * ç”Ÿæˆè¡Œè¿æŠ¥å‘Šæ–‡æœ¬\n */\nexport function generateTransitReport(transitData) {\n  try {\n    const { age, aspects, currentCycles, outerPlanetAnalysis } = transitData;\n    \n    const report = {\n      summary: `${age}å²çš„è¡Œè¿åˆ†ææ˜¾ç¤ºäº†${aspects.length}ä¸ªé‡è¦ç›¸ä½æ­£åœ¨å‘ç”Ÿä½œç”¨ã€‚`,\n      currentPhase: outerPlanetAnalysis.summary,\n      majorAspects: aspects.slice(0, 5).map(aspect => ({\n        title: `${aspect.transitPlanet} ${aspect.aspect} ${aspect.natalPlanet}`,\n        description: generateAspectInterpretation(aspect),\n        orb: aspect.orb,\n        intensity: aspect.intensity\n      })),\n      lifeCycles: currentCycles.map(cycle => ({\n        name: cycle.name,\n        progress: Math.round(cycle.progress * 100),\n        description: `æ­£åœ¨ç»å†${cycle.name}ï¼Œå®Œæˆåº¦${Math.round(cycle.progress * 100)}%`\n      })),\n      recommendations: generateRecommendations(transitData)\n    };\n\n    return report;\n  } catch (error) {\n    console.error('ç”Ÿæˆè¡Œè¿æŠ¥å‘Šå¤±è´¥:', error);\n    throw error;\n  }\n}\n\n/**\n * ç”Ÿæˆå»ºè®®\n */\nfunction generateRecommendations(transitData) {\n  try {\n    const { aspects } = transitData;\n    const recommendations = [];\n\n    // åŸºäºä¸»è¦ç›¸ä½çš„å»ºè®®\n    const majorAspects = aspects.filter(a => a.intensity === 'strong').slice(0, 3);\n    \n    majorAspects.forEach(aspect => {\n      if (aspect.transitPlanet === 'åœŸæ˜Ÿ') {\n        recommendations.push({\n          area: 'è´£ä»»ä¸ç»“æ„',\n          advice: 'è¿™æ˜¯å»ºç«‹é•¿æœŸåŸºç¡€çš„é‡è¦æ—¶æœŸï¼Œè™½ç„¶å¯èƒ½é¢ä¸´å‹åŠ›ï¼Œä½†åšæŒä¸‹å»ä¼šæœ‰ç¨³å›ºçš„æ”¶è·ã€‚',\n          timeframe: 'æœªæ¥6-12ä¸ªæœˆ'\n        });\n      } else if (aspect.transitPlanet === 'æœ¨æ˜Ÿ') {\n        recommendations.push({\n          area: 'æˆé•¿ä¸æœºé‡',\n          advice: 'ç§¯ææŠŠæ¡æ‰©å±•æœºä¼šï¼Œè¿™æ˜¯å­¦ä¹ æ–°æŠ€èƒ½å’Œæ‹“å±•è§†é‡çš„è‰¯å¥½æ—¶æœºã€‚',\n          timeframe: 'æœªæ¥3-6ä¸ªæœˆ'\n        });\n      } else if (aspect.transitPlanet === 'å¤©ç‹æ˜Ÿ') {\n        recommendations.push({\n          area: 'å˜åŒ–ä¸åˆ›æ–°',\n          advice: 'æ‹¥æŠ±å˜åŒ–ï¼Œä¸è¦æŠ—æ‹’çªå¦‚å…¶æ¥çš„è½¬å˜ï¼Œå®ƒä»¬å¯èƒ½å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æœºé‡ã€‚',\n          timeframe: 'æœªæ¥1-2å¹´'\n        });\n      }\n    });\n\n    return recommendations;\n  } catch (error) {\n    console.error('ç”Ÿæˆå»ºè®®å¤±è´¥:', error);\n    return [];\n  }\n}\n\n// å¯¼å‡ºé…ç½®å¸¸é‡\nexport { PLANET_CYCLES, ASPECT_CONFIG, LIFE_CYCLES };"],"names":["$","uncurryThis","toIntegerOrInfinity","thisNumberValue","$repeat","fails","$RangeError","RangeError","$String","String","floor","Math","repeat","stringSlice","slice","nativeToFixed","toFixed","pow","x","n","acc","log","x2","multiply","data","c","index","c2","divide","dataToString","s","t","length","FORCED","target","proto","forced","fractionDigits","e","z","j","k","number","this","fractDigits","sign","result","PLANET_CYCLES","sun","period","name","moon","mercury","venus","mars","jupiter","saturn","uranus","neptune","pluto","ASPECT_CONFIG","åˆç›¸","angle","orb","intensity","type","å…­åˆ†ç›¸","å››åˆ†ç›¸","ä¸‰åˆ†ç›¸","å¯¹åˆ†ç›¸","LIFE_CYCLES","saturn_return_1","age","duration","jupiter_return_1","jupiter_return_2","jupiter_return_3","jupiter_return_4","saturn_opposition","saturn_return_2","calculateAngleDifference","angle1","angle2","diff","abs","isAspectValid","actualAngle","aspectAngle","safeDegreeCalculation","position","_typeof","undefined","longitude","calculateDegreeFromSign","console","warn","error","calculateTransitAspects","natalPositions","transitPositions","aspects","Object","keys","forEach","transitPlanet","transitPos","transitDegree","natalPlanet","natalPos","natalDegree","angleDiff","entries","_ref","_PLANET_CYCLES$transi","_PLANET_CYCLES$natalP","_ref2","_slicedToArray","aspectName","aspectData","push","aspect","applying","transitSign","natalSign","sort","a","b","getCurrentLifeCycles","birthDate","analysisDate","birthTime","Date","getTime","analysisTime","ageInYears","currentCycles","_ref3","_ref4","cycleKey","cycleData","cycleStart","cycleEnd","_objectSpread","key","progress","generateAspectInterpretation","interpretations","positive","challenging","concat","interpretation","isPositive","includes","generateOuterPlanetAnalysis","currentAge","outerPlanetAspects","filter","analysis","planetKey","summary","generateLifePhaseAnalysis","phase","description","keyThemes","calculateTransitChart","birthData","transitDate","calculateAstrologyPositions","transitUserData","fullBirthDateTime","transitTime","outerPlanetAnalysis","metadata","calculationTime","toISOString","aspectCount","majorAspects","stack","Error","message","generateTransitReport","transitData","report","currentPhase","map","title","lifeCycles","cycle","round","recommendations","generateRecommendations","area","advice","timeframe"],"sourceRoot":""}