"use strict";(self["webpackChunkmeiban_app"]=self["webpackChunkmeiban_app"]||[]).push([[275],{6275:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Wt});n(2010);var a=n(6768),s=n(4232),o={class:"results-container"},r={class:"header"},i={class:"user-name"},c={key:0,class:"results-content"},l={class:"birth-data-summary"},u={class:"result-section star-chart-section"},d={class:"chart-container"},h={class:"result-section astrology-positions"},v={class:"positions-grid"},p={class:"position-item ascendant"},g={class:"position-value"},y={class:"sign"},f={class:"degree"},m={class:"position-item sun"},k={class:"position-value"},b={class:"sign"},L={class:"degree"},x={class:"position-item moon"},R={class:"position-value"},M={class:"sign"},P={class:"degree"},E={class:"result-section eight-characters"},w={class:"eight-char-grid"},C={class:"char-column"},D={class:"char-value heavenly"},A={class:"char-value earthly"},_={class:"char-column"},z={class:"char-value heavenly"},W={class:"char-value earthly"},H={class:"char-column"},F={class:"char-value heavenly"},X={class:"char-value earthly"},S={class:"char-column"},N={class:"char-value heavenly"},I={class:"char-value earthly"},B={class:"result-section elements"},q={class:"elements-grid"},K={class:"result-section fortune"},Q={class:"fortune-overview"},j={class:"fortune-badge"},O={class:"fortune-details"},T={class:"fortune-item"},Z={class:"fortune-stars"},Y={class:"fortune-item"},V={class:"fortune-stars"},$={class:"fortune-item"},U={class:"fortune-stars"},G={class:"fortune-item"},J={class:"fortune-stars"},ee={class:"actions"},te={key:1,class:"loading"};function ne(e,t,n,ne,ae,se){var oe=(0,a.g2)("StarChart");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("header",r,[t[2]||(t[2]=(0,a.Lk)("h1",{class:"title"},"命盤結果",-1)),(0,a.Lk)("p",i,(0,s.v_)(e.userData?e.userData.name:"ゲスト")+"様の命盤",1)]),e.calculationResults?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",l,[(0,a.Lk)("p",null,(0,s.v_)(se.formatBirthDate)+" "+(0,s.v_)(se.formatBirthTime)+" / "+(0,s.v_)(e.userData.birthplace),1)]),(0,a.Lk)("section",u,[t[3]||(t[3]=(0,a.Lk)("h2",{class:"section-title"},"星盤圖",-1)),(0,a.Lk)("div",d,[(0,a.bF)(oe,{"calculation-results":e.calculationResults,size:ne.chartSize},null,8,["calculation-results","size"])])]),(0,a.Lk)("section",h,[t[7]||(t[7]=(0,a.Lk)("h2",{class:"section-title"},"星座位置",-1)),(0,a.Lk)("div",v,[(0,a.Lk)("div",p,[t[4]||(t[4]=(0,a.Lk)("div",{class:"position-label"},"上升",-1)),(0,a.Lk)("div",g,[(0,a.Lk)("span",y,(0,s.v_)(e.calculationResults.astrologyPositions.ascendant.sign),1),(0,a.Lk)("span",f,(0,s.v_)(e.calculationResults.astrologyPositions.ascendant.degree)+"°"+(0,s.v_)(e.calculationResults.astrologyPositions.ascendant.minute)+"'",1)])]),(0,a.Lk)("div",m,[t[5]||(t[5]=(0,a.Lk)("div",{class:"position-label"},"太陽",-1)),(0,a.Lk)("div",k,[(0,a.Lk)("span",b,(0,s.v_)(e.calculationResults.astrologyPositions.sun.sign),1),(0,a.Lk)("span",L,(0,s.v_)(e.calculationResults.astrologyPositions.sun.degree)+"°"+(0,s.v_)(e.calculationResults.astrologyPositions.sun.minute)+"'",1)])]),(0,a.Lk)("div",x,[t[6]||(t[6]=(0,a.Lk)("div",{class:"position-label"},"月亮",-1)),(0,a.Lk)("div",R,[(0,a.Lk)("span",M,(0,s.v_)(e.calculationResults.astrologyPositions.moon.sign),1),(0,a.Lk)("span",P,(0,s.v_)(e.calculationResults.astrologyPositions.moon.degree)+"°"+(0,s.v_)(e.calculationResults.astrologyPositions.moon.minute)+"'",1)])])])]),(0,a.Lk)("section",E,[t[12]||(t[12]=(0,a.Lk)("h2",{class:"section-title"},"生辰八字",-1)),(0,a.Lk)("div",w,[(0,a.Lk)("div",C,[t[8]||(t[8]=(0,a.Lk)("div",{class:"char-label"},"年柱",-1)),(0,a.Lk)("div",D,(0,s.v_)(e.calculationResults.eightCharacters.year.heavenlyStem),1),(0,a.Lk)("div",A,(0,s.v_)(e.calculationResults.eightCharacters.year.earthlyBranch),1)]),(0,a.Lk)("div",_,[t[9]||(t[9]=(0,a.Lk)("div",{class:"char-label"},"月柱",-1)),(0,a.Lk)("div",z,(0,s.v_)(e.calculationResults.eightCharacters.month.heavenlyStem),1),(0,a.Lk)("div",W,(0,s.v_)(e.calculationResults.eightCharacters.month.earthlyBranch),1)]),(0,a.Lk)("div",H,[t[10]||(t[10]=(0,a.Lk)("div",{class:"char-label"},"日柱",-1)),(0,a.Lk)("div",F,(0,s.v_)(e.calculationResults.eightCharacters.day.heavenlyStem),1),(0,a.Lk)("div",X,(0,s.v_)(e.calculationResults.eightCharacters.day.earthlyBranch),1)]),(0,a.Lk)("div",S,[t[11]||(t[11]=(0,a.Lk)("div",{class:"char-label"},"時柱",-1)),(0,a.Lk)("div",N,(0,s.v_)(e.calculationResults.eightCharacters.hour.heavenlyStem),1),(0,a.Lk)("div",I,(0,s.v_)(e.calculationResults.eightCharacters.hour.earthlyBranch),1)])])]),(0,a.Lk)("section",B,[t[13]||(t[13]=(0,a.Lk)("h2",{class:"section-title"},"五行配置",-1)),(0,a.Lk)("div",q,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.calculationResults.elements,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,s.C4)(["element-item",se.getElementClass(e)])},(0,s.v_)(e),3)})),128))])]),(0,a.Lk)("section",K,[t[18]||(t[18]=(0,a.Lk)("h2",{class:"section-title"},"運勢分析",-1)),(0,a.Lk)("div",Q,[(0,a.Lk)("div",j,(0,s.v_)(e.calculationResults.fortune.overview),1)]),(0,a.Lk)("div",O,[(0,a.Lk)("div",T,[t[14]||(t[14]=(0,a.Lk)("div",{class:"fortune-label"},"仕事運",-1)),(0,a.Lk)("div",Z,(0,s.v_)(e.calculationResults.fortune.career),1)]),(0,a.Lk)("div",Y,[t[15]||(t[15]=(0,a.Lk)("div",{class:"fortune-label"},"金運",-1)),(0,a.Lk)("div",V,(0,s.v_)(e.calculationResults.fortune.wealth),1)]),(0,a.Lk)("div",$,[t[16]||(t[16]=(0,a.Lk)("div",{class:"fortune-label"},"恋愛運",-1)),(0,a.Lk)("div",U,(0,s.v_)(e.calculationResults.fortune.love),1)]),(0,a.Lk)("div",G,[t[17]||(t[17]=(0,a.Lk)("div",{class:"fortune-label"},"健康運",-1)),(0,a.Lk)("div",J,(0,s.v_)(e.calculationResults.fortune.health),1)])])]),(0,a.Lk)("div",ee,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(){return se.goBack&&se.goBack.apply(se,arguments)}),class:"back-btn"},"トップに戻る"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=function(){return se.shareChart&&se.shareChart.apply(se,arguments)}),class:"share-btn"},"星盤を共有")])])):((0,a.uX)(),(0,a.CE)("div",te,t[19]||(t[19]=[(0,a.Lk)("p",null,"命盤を計算中...",-1)]))),t[20]||(t[20]=(0,a.Lk)("footer",{class:"footer"},[(0,a.Lk)("p",null,"© 2025 命盤 - 生辰八字・四柱推命・命盤占い")],-1))])}var ae=n(8653),se=(n(8706),n(4114),n(782)),oe=n(144),re=(n(4782),n(9868),{class:"star-chart-container"}),ie={class:"chart-header"},ce={class:"chart-controls"},le={class:"chart-wrapper"},ue=["width","height","viewBox"],de=["cx","cy","r"],he={class:"zodiac-ring"},ve={key:0,class:"house-ring"},pe={class:"planet-ring"},ge={key:1,class:"aspect-lines"},ye=["cx","cy","r"],fe={class:"axis-lines"},me=["x1","y1","x2","y2"],ke=["x1","y1","x2","y2"],be={class:"tooltip-title"},Le={class:"tooltip-position"},xe={class:"chart-legend"},Re={class:"legend-section"},Me={class:"legend-items"},Pe={class:"planet-name"},Ee={class:"planet-position"},we={key:0,class:"legend-section"},Ce={class:"legend-items"},De={class:"aspect-description"},Ae={class:"aspect-orb"};function _e(e,t,n,o,r,i){var c=(0,a.g2)("ZodiacSector"),l=(0,a.g2)("HouseSector"),u=(0,a.g2)("PlanetMarker"),d=(0,a.g2)("AspectLine");return(0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("div",ie,[t[2]||(t[2]=(0,a.Lk)("h3",{class:"chart-title"},"星盤圖",-1)),(0,a.Lk)("div",ce,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(){return o.toggleAspects&&o.toggleAspects.apply(o,arguments)}),class:(0,s.C4)([{active:o.showAspects},"control-btn"])},(0,s.v_)(o.showAspects?"隐藏相位":"显示相位"),3),(0,a.Lk)("button",{onClick:t[1]||(t[1]=function(){return o.toggleHouses&&o.toggleHouses.apply(o,arguments)}),class:(0,s.C4)([{active:o.showHouses},"control-btn"])},(0,s.v_)(o.showHouses?"隐藏宫位":"显示宫位"),3)])]),(0,a.Lk)("div",le,[((0,a.uX)(),(0,a.CE)("svg",{width:o.chartSize,height:o.chartSize,viewBox:"0 0 ".concat(o.chartSize," ").concat(o.chartSize),class:"star-chart-svg"},[(0,a.Lk)("circle",{cx:o.center,cy:o.center,r:o.settings.outerRadius,class:"chart-background"},null,8,de),(0,a.Lk)("g",he,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.zodiac,(function(e){return(0,a.uX)(),(0,a.Wv)(c,{key:e.name,zodiac:e,center:o.center,"inner-radius":o.settings.zodiacRadius-20,"outer-radius":o.settings.outerRadius},null,8,["zodiac","center","inner-radius","outer-radius"])})),128))]),o.showHouses&&o.chartData.houses.length>0?((0,a.uX)(),(0,a.CE)("g",ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.houses,(function(e){return(0,a.uX)(),(0,a.Wv)(l,{key:e.number,house:e,center:o.center,"inner-radius":o.settings.houseRadius-20,"outer-radius":o.settings.zodiacRadius-20},null,8,["house","center","inner-radius","outer-radius"])})),128))])):(0,a.Q3)("",!0),(0,a.Lk)("g",pe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.planets,(function(e){return(0,a.uX)(),(0,a.Wv)(u,{key:e.id,planet:e,center:o.center,radius:o.settings.planetRadius,onPlanetHover:o.onPlanetHover},null,8,["planet","center","radius","onPlanetHover"])})),128))]),o.showAspects?((0,a.uX)(),(0,a.CE)("g",ge,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.aspects,(function(e,t){return(0,a.uX)(),(0,a.Wv)(d,{key:t,aspect:e,planets:o.chartData.planets,center:o.center,radius:o.settings.innerRadius+30},null,8,["aspect","planets","center","radius"])})),128))])):(0,a.Q3)("",!0),(0,a.Lk)("circle",{cx:o.center,cy:o.center,r:o.settings.innerRadius,class:"chart-center"},null,8,ye),(0,a.Lk)("g",fe,[(0,a.Lk)("line",{x1:o.center-o.settings.outerRadius,y1:o.center,x2:o.center+o.settings.outerRadius,y2:o.center,class:"axis-line"},null,8,me),(0,a.Lk)("line",{x1:o.center,y1:o.center-o.settings.outerRadius,x2:o.center,y2:o.center+o.settings.outerRadius,class:"axis-line"},null,8,ke)])],8,ue)),o.hoveredPlanet?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"planet-tooltip",style:(0,s.Tr)(o.tooltipStyle)},[(0,a.Lk)("div",be,(0,s.v_)(o.hoveredPlanet.name),1),(0,a.Lk)("div",Le,(0,s.v_)(o.hoveredPlanet.sign)+" "+(0,s.v_)(o.hoveredPlanet.signDegree)+"°"+(0,s.v_)(o.hoveredPlanet.signMinute)+"' ",1)],4)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",xe,[(0,a.Lk)("div",Re,[t[3]||(t[3]=(0,a.Lk)("h4",null,"行星",-1)),(0,a.Lk)("div",Me,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.planets,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"legend-item"},[(0,a.Lk)("span",{class:"planet-symbol",style:(0,s.Tr)({color:e.color})},(0,s.v_)(e.symbol),5),(0,a.Lk)("span",Pe,(0,s.v_)(e.displayName),1),(0,a.Lk)("span",Ee,(0,s.v_)(e.sign)+" "+(0,s.v_)(e.signDegree)+"°"+(0,s.v_)(e.signMinute)+"' ",1)])})),128))])]),o.showAspects&&o.chartData.aspects.length>0?((0,a.uX)(),(0,a.CE)("div",we,[t[4]||(t[4]=(0,a.Lk)("h4",null,"主要相位",-1)),(0,a.Lk)("div",Ce,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.chartData.aspects.slice(0,5),(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:"legend-item"},[(0,a.Lk)("span",{class:"aspect-color",style:(0,s.Tr)({backgroundColor:e.color})},null,4),(0,a.Lk)("span",De,(0,s.v_)(e.planet1)+" "+(0,s.v_)(e.aspect)+" "+(0,s.v_)(e.planet2),1),(0,a.Lk)("span",Ae,(0,s.v_)(e.orb.toFixed(1))+"°",1)])})),128))])])):(0,a.Q3)("",!0)])])}n(2892);var ze=n(3604),We=(n(6280),n(6918),n(5276),n(2062),n(6099),n(3307),[{name:"白羊座",symbol:"♈",startDegree:0,color:"#FF6B6B"},{name:"金牛座",symbol:"♉",startDegree:30,color:"#4ECDC4"},{name:"双子座",symbol:"♊",startDegree:60,color:"#45B7D1"},{name:"巨蟹座",symbol:"♋",startDegree:90,color:"#96CEB4"},{name:"狮子座",symbol:"♌",startDegree:120,color:"#FFEAA7"},{name:"处女座",symbol:"♍",startDegree:150,color:"#DDA0DD"},{name:"天秤座",symbol:"♎",startDegree:180,color:"#98D8C8"},{name:"天蝎座",symbol:"♏",startDegree:210,color:"#F7DC6F"},{name:"射手座",symbol:"♐",startDegree:240,color:"#BB8FCE"},{name:"摩羯座",symbol:"♑",startDegree:270,color:"#85C1E9"},{name:"水瓶座",symbol:"♒",startDegree:300,color:"#F8C471"},{name:"双鱼座",symbol:"♓",startDegree:330,color:"#82E0AA"}]),He={sun:{symbol:"☉",displayName:"太阳",color:"#FFD700"},moon:{symbol:"☽",displayName:"月亮",color:"#C0C0C0"},mercury:{symbol:"☿",displayName:"水星",color:"#87CEEB"},venus:{symbol:"♀",displayName:"金星",color:"#FFC0CB"},mars:{symbol:"♂",displayName:"火星",color:"#FF6347"},jupiter:{symbol:"♃",displayName:"木星",color:"#DAA520"},saturn:{symbol:"♄",displayName:"土星",color:"#2F4F4F"},uranus:{symbol:"♅",displayName:"天王星",color:"#4FD0E3"},neptune:{symbol:"♆",displayName:"海王星",color:"#4169E1"},pluto:{symbol:"♇",displayName:"冥王星",color:"#8B4513"}};function Fe(e){return(90-e+360)%360}function Xe(e){var t=["白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座","水瓶座","双鱼座"],n=t.indexOf(e.sign);return-1===n?0:30*n+e.degree+e.minute/60}function Se(){return We.map((function(e){return(0,ae.A)((0,ae.A)({},e),{},{svgAngle:Fe(e.startDegree),endDegree:e.startDegree+30,midDegree:e.startDegree+15})}))}function Ne(e){for(var t=[],n=1;n<=12;n++){var a=(e+30*(n-1))%360;t.push({number:n,startDegree:a,endDegree:(a+30)%360,midDegree:(a+15)%360,svgAngle:Fe(a)})}return t}function Ie(e){var t=[];return e.sun&&t.push((0,ae.A)((0,ae.A)({id:"sun"},He.sun),{},{degree:e.sun.longitude||Xe(e.sun),sign:e.sun.sign,signDegree:e.sun.degree,signMinute:e.sun.minute})),e.moon&&t.push((0,ae.A)((0,ae.A)({id:"moon"},He.moon),{},{degree:e.moon.longitude||Xe(e.moon),sign:e.moon.sign,signDegree:e.moon.degree,signMinute:e.moon.minute})),e.ascendant&&t.push({id:"ascendant",symbol:"ASC",displayName:"上升",color:"#d35400",degree:e.ascendant.longitude||Xe(e.ascendant),sign:e.ascendant.sign,signDegree:e.ascendant.degree,signMinute:e.ascendant.minute,isAngle:!0}),t.map((function(e){return(0,ae.A)((0,ae.A)({},e),{},{svgAngle:Fe(e.degree)})}))}function Be(e){for(var t=[],n=[{angle:0,aspectName:"合相",orb:8,color:"#FF6B6B"},{angle:60,aspectName:"六分相",orb:4,color:"#4ECDC4"},{angle:90,aspectName:"四分相",orb:6,color:"#FFE66D"},{angle:120,aspectName:"三分相",orb:6,color:"#4CAF50"},{angle:180,aspectName:"对分相",orb:8,color:"#9C27B0"}],a=0;a<e.length;a++)for(var s=a+1;s<e.length;s++){var o,r=e[a],i=e[s],c=Math.abs(r.degree-i.degree),l=Math.min(c,360-c),u=(0,ze.A)(n);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(Math.abs(l-d.angle)<=d.orb){t.push({planet1:r.id,planet2:i.id,aspect:d.aspectName,angle:d.angle,orb:Math.abs(l-d.angle),color:d.color,isApplying:!0});break}}}catch(h){u.e(h)}finally{u.f()}}return t}function qe(){return{zodiac:Se(),houses:[],planets:[(0,ae.A)((0,ae.A)({id:"sun"},He.sun),{},{degree:352.8,sign:"双鱼座",signDegree:13,signMinute:49,svgAngle:Fe(352.8)}),{id:"ascendant",symbol:"ASC",displayName:"上升",color:"#d35400",degree:64.2,sign:"双子座",signDegree:4,signMinute:11,svgAngle:Fe(64.2),isAngle:!0}],aspects:[],settings:{centerX:250,centerY:250,outerRadius:220,zodiacRadius:200,houseRadius:180,planetRadius:160,innerRadius:50}}}function Ke(e){try{if(!e||!e.astrologyPositions)throw new Error("缺少占星位置数据");var t=e.astrologyPositions,n=t.ascendant.longitude||Xe(t.ascendant),a=Se(),s=Ne(n),o=Ie(t),r=Be(o);return{zodiac:a,houses:s,planets:o,aspects:r,settings:{centerX:250,centerY:250,outerRadius:220,zodiacRadius:200,houseRadius:180,planetRadius:160,innerRadius:50}}}catch(i){return console.error("星盘数据生成失败:",i),qe()}}var Qe=["d","fill","fill-opacity","stroke","stroke-width"],je=["x1","y1","x2","y2","stroke"],Oe=["x","y","fill","font-size"],Te=["x","y","fill"];function Ze(e,t,n,o,r,i){return(0,a.uX)(),(0,a.CE)("g",{class:"zodiac-sector",onMouseenter:t[0]||(t[0]=function(){return o.onHover&&o.onHover.apply(o,arguments)}),onMouseleave:t[1]||(t[1]=function(){return o.onLeave&&o.onLeave.apply(o,arguments)})},[(0,a.Lk)("path",{d:o.sectorPath,fill:n.zodiac.color,"fill-opacity":o.isHovered?.3:.15,stroke:n.zodiac.color,"stroke-width":o.isHovered?2:1,class:"sector-background"},null,8,Qe),(0,a.Lk)("line",{x1:o.innerPoint.x,y1:o.innerPoint.y,x2:o.outerPoint.x,y2:o.outerPoint.y,stroke:n.zodiac.color,"stroke-width":"1",opacity:"0.5",class:"sector-divider"},null,8,je),(0,a.Lk)("text",{x:o.symbolPosition.x,y:o.symbolPosition.y,fill:n.zodiac.color,"font-size":o.symbolSize,"font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",class:"zodiac-symbol"},(0,s.v_)(n.zodiac.symbol),9,Oe),o.isHovered?((0,a.uX)(),(0,a.CE)("text",{key:0,x:o.namePosition.x,y:o.namePosition.y,fill:n.zodiac.color,"font-size":"11","font-weight":"500","text-anchor":"middle","dominant-baseline":"middle",class:"zodiac-name"},(0,s.v_)(n.zodiac.name),9,Te)):(0,a.Q3)("",!0)],32)}n(8598);const Ye={name:"ZodiacSector",props:{zodiac:{type:Object,required:!0},center:{type:Number,required:!0},innerRadius:{type:Number,required:!0},outerRadius:{type:Number,required:!0}},setup:function(e){var t=(0,oe.KR)(!1),n=(0,a.EW)((function(){var t=e.zodiac.svgAngle,n=t+30,a=t*Math.PI/180,s=n*Math.PI/180,o=e.center+e.innerRadius*Math.cos(a),r=e.center+e.innerRadius*Math.sin(a),i=e.center+e.outerRadius*Math.cos(a),c=e.center+e.outerRadius*Math.sin(a),l=e.center+e.outerRadius*Math.cos(s),u=e.center+e.outerRadius*Math.sin(s),d=e.center+e.innerRadius*Math.cos(s),h=e.center+e.innerRadius*Math.sin(s),v=n-t<=180?"0":"1";return["M ".concat(o," ").concat(r),"L ".concat(i," ").concat(c),"A ".concat(e.outerRadius," ").concat(e.outerRadius," 0 ").concat(v," 1 ").concat(l," ").concat(u),"L ".concat(d," ").concat(h),"A ".concat(e.innerRadius," ").concat(e.innerRadius," 0 ").concat(v," 0 ").concat(o," ").concat(r),"Z"].join(" ")})),s=(0,a.EW)((function(){var t=e.zodiac.svgAngle*Math.PI/180;return{x:e.center+e.innerRadius*Math.cos(t),y:e.center+e.innerRadius*Math.sin(t)}})),o=(0,a.EW)((function(){var t=e.zodiac.svgAngle*Math.PI/180;return{x:e.center+e.outerRadius*Math.cos(t),y:e.center+e.outerRadius*Math.sin(t)}})),r=(0,a.EW)((function(){var t=(e.zodiac.svgAngle+15)*Math.PI/180,n=e.outerRadius-10;return{x:e.center+n*Math.cos(t),y:e.center+n*Math.sin(t)}})),i=(0,a.EW)((function(){var t=(e.zodiac.svgAngle+15)*Math.PI/180,n=e.innerRadius+15;return{x:e.center+n*Math.cos(t),y:e.center+n*Math.sin(t)}})),c=(0,a.EW)((function(){var t=Math.min(e.outerRadius-e.innerRadius,20);return Math.max(.8*t,12)})),l=function(){t.value=!0},u=function(){t.value=!1};return{isHovered:t,sectorPath:n,innerPoint:s,outerPoint:o,symbolPosition:r,namePosition:i,symbolSize:c,onHover:l,onLeave:u}}};var Ve=n(1241);const $e=(0,Ve.A)(Ye,[["render",Ze],["__scopeId","data-v-6fddcf42"]]),Ue=$e;var Ge=["d"],Je=["x1","y1","x2","y2","stroke-width","opacity"],et=["x","y","font-size","opacity"],tt={key:0,class:"house-tooltip"},nt=["x","y","width"],at=["x","y"];function st(e,t,n,o,r,i){return(0,a.uX)(),(0,a.CE)("g",{class:"house-sector",onMouseenter:t[0]||(t[0]=function(){return o.onHover&&o.onHover.apply(o,arguments)}),onMouseleave:t[1]||(t[1]=function(){return o.onLeave&&o.onLeave.apply(o,arguments)})},[(0,a.Lk)("path",{d:o.sectorPath,fill:"transparent",stroke:"none",class:"house-background"},null,8,Ge),(0,a.Lk)("line",{x1:o.innerPoint.x,y1:o.innerPoint.y,x2:o.outerPoint.x,y2:o.outerPoint.y,stroke:"#6c757d","stroke-width":o.isHovered?2:1,opacity:o.isHovered?.8:.4,"stroke-dasharray":"2,2",class:"house-divider"},null,8,Je),(0,a.Lk)("text",{x:o.numberPosition.x,y:o.numberPosition.y,fill:"#495057","font-size":o.numberSize,"font-weight":"600","text-anchor":"middle","dominant-baseline":"middle",opacity:o.isHovered?1:.7,class:"house-number"},(0,s.v_)(n.house.number),9,et),o.isHovered?((0,a.uX)(),(0,a.CE)("g",tt,[(0,a.Lk)("rect",{x:o.tooltipPosition.x-o.tooltipWidth/2,y:o.tooltipPosition.y-10,width:o.tooltipWidth,height:"20",fill:"rgba(0,0,0,0.8)",rx:"3",class:"tooltip-background"},null,8,nt),(0,a.Lk)("text",{x:o.tooltipPosition.x,y:o.tooltipPosition.y,fill:"white","font-size":"10","font-weight":"500","text-anchor":"middle","dominant-baseline":"middle",class:"tooltip-text"},(0,s.v_)(o.houseDescription),9,at)])):(0,a.Q3)("",!0)],32)}const ot={name:"HouseSector",props:{house:{type:Object,required:!0},center:{type:Number,required:!0},innerRadius:{type:Number,required:!0},outerRadius:{type:Number,required:!0}},setup:function(e){var t=(0,oe.KR)(!1),n={1:"自我・个性",2:"财富・价值",3:"沟通・学习",4:"家庭・根源",5:"创造・恋爱",6:"工作・健康",7:"关系・合作",8:"转化・共享",9:"哲学・远行",10:"事业・声誉",11:"友谊・希望",12:"潜意识・牺牲"},s=(0,a.EW)((function(){var t=e.house.svgAngle,n=t+30,a=t*Math.PI/180,s=n*Math.PI/180,o=e.center+e.innerRadius*Math.cos(a),r=e.center+e.innerRadius*Math.sin(a),i=e.center+e.outerRadius*Math.cos(a),c=e.center+e.outerRadius*Math.sin(a),l=e.center+e.outerRadius*Math.cos(s),u=e.center+e.outerRadius*Math.sin(s),d=e.center+e.innerRadius*Math.cos(s),h=e.center+e.innerRadius*Math.sin(s),v=n-t<=180?"0":"1";return["M ".concat(o," ").concat(r),"L ".concat(i," ").concat(c),"A ".concat(e.outerRadius," ").concat(e.outerRadius," 0 ").concat(v," 1 ").concat(l," ").concat(u),"L ".concat(d," ").concat(h),"A ".concat(e.innerRadius," ").concat(e.innerRadius," 0 ").concat(v," 0 ").concat(o," ").concat(r),"Z"].join(" ")})),o=(0,a.EW)((function(){var t=e.house.svgAngle*Math.PI/180;return{x:e.center+e.innerRadius*Math.cos(t),y:e.center+e.innerRadius*Math.sin(t)}})),r=(0,a.EW)((function(){var t=e.house.svgAngle*Math.PI/180;return{x:e.center+e.outerRadius*Math.cos(t),y:e.center+e.outerRadius*Math.sin(t)}})),i=(0,a.EW)((function(){var t=(e.house.svgAngle+15)*Math.PI/180,n=(e.innerRadius+e.outerRadius)/2;return{x:e.center+n*Math.cos(t),y:e.center+n*Math.sin(t)}})),c=(0,a.EW)((function(){var t=(e.house.svgAngle+15)*Math.PI/180,n=e.outerRadius+20;return{x:e.center+n*Math.cos(t),y:e.center+n*Math.sin(t)}})),l=(0,a.EW)((function(){return n[e.house.number]||"第".concat(e.house.number,"宫")})),u=(0,a.EW)((function(){return 8*l.value.length+16})),d=(0,a.EW)((function(){var t=Math.min(e.outerRadius-e.innerRadius,16);return Math.max(.6*t,10)})),h=function(){t.value=!0},v=function(){t.value=!1};return{isHovered:t,sectorPath:s,innerPoint:o,outerPoint:r,numberPosition:i,tooltipPosition:c,houseDescription:l,tooltipWidth:u,numberSize:d,onHover:h,onLeave:v}}},rt=(0,Ve.A)(ot,[["render",st],["__scopeId","data-v-6d9eb358"]]),it=rt;var ct=["transform"],lt=["r","fill","fill-opacity","stroke","stroke-width"],ut=["x2","y2","stroke"],dt=["fill","font-size"],ht={key:0,class:"degree-label"},vt=["x","y","width","fill"],pt=["y"];function gt(e,t,n,o,r,i){return(0,a.uX)(),(0,a.CE)("g",{class:"planet-marker",onMouseenter:t[0]||(t[0]=function(){return o.onHover&&o.onHover.apply(o,arguments)}),onMouseleave:t[1]||(t[1]=function(){return o.onLeave&&o.onLeave.apply(o,arguments)}),transform:"translate(".concat(o.position.x,", ").concat(o.position.y,")")},[(0,a.Lk)("circle",{r:o.circleRadius,fill:n.planet.color,"fill-opacity":o.isHovered?.3:.1,stroke:n.planet.color,"stroke-width":o.isHovered?2:1,class:"planet-background"},null,8,lt),(0,a.Lk)("line",{x1:"0",y1:"0",x2:o.lineEnd.x,y2:o.lineEnd.y,stroke:n.planet.color,"stroke-width":"1",opacity:"0.6",class:"position-line"},null,8,ut),(0,a.Lk)("text",{x:"0",y:"0",fill:n.planet.color,"font-size":o.symbolSize,"font-weight":"bold","text-anchor":"middle","dominant-baseline":"middle",class:"planet-symbol"},(0,s.v_)(n.planet.symbol),9,dt),o.isHovered?((0,a.uX)(),(0,a.CE)("g",ht,[(0,a.Lk)("rect",{x:-o.labelWidth/2,y:o.circleRadius+5,width:o.labelWidth,height:"16",fill:n.planet.color,"fill-opacity":"0.9",rx:"3",class:"label-background"},null,8,vt),(0,a.Lk)("text",{x:"0",y:o.circleRadius+15,fill:"white","font-size":"10","font-weight":"500","text-anchor":"middle","dominant-baseline":"middle",class:"degree-text"},(0,s.v_)(o.degreeLabel),9,pt)])):(0,a.Q3)("",!0)],40,ct)}const yt={name:"PlanetMarker",props:{planet:{type:Object,required:!0},center:{type:Number,required:!0},radius:{type:Number,required:!0}},emits:["planet-hover","planet-leave"],setup:function(e,t){var n=t.emit,s=(0,oe.KR)(!1),o=(0,a.EW)((function(){var t=e.planet.svgAngle*Math.PI/180;return{x:e.center+e.radius*Math.cos(t),y:e.center+e.radius*Math.sin(t)}})),r=(0,a.EW)((function(){var t=e.planet.svgAngle*Math.PI/180,n=.3*e.radius;return{x:-n*Math.cos(t),y:-n*Math.sin(t)}})),i=(0,a.EW)((function(){return e.planet.isAngle?12:10})),c=(0,a.EW)((function(){return e.planet.isAngle?10:12})),l=(0,a.EW)((function(){return"".concat(e.planet.signDegree,"°").concat(e.planet.signMinute,"'")})),u=(0,a.EW)((function(){return 6*l.value.length+8})),d=function(t){s.value=!0,n("planet-hover",e.planet,t)},h=function(){s.value=!1,n("planet-leave")};return{isHovered:s,position:o,lineEnd:r,circleRadius:i,symbolSize:c,degreeLabel:l,labelWidth:u,onHover:d,onLeave:h}}},ft=(0,Ve.A)(yt,[["render",gt],["__scopeId","data-v-a4cbb2fc"]]),mt=ft;var kt=["x1","y1","x2","y2","stroke","stroke-width","opacity","stroke-dasharray"],bt=["cx","cy","fill"],Lt={key:1,class:"aspect-tooltip"},xt=["x","y","width"],Rt=["x","y"];function Mt(e,t,n,o,r,i){return(0,a.uX)(),(0,a.CE)("g",{class:"aspect-line",onMouseenter:t[0]||(t[0]=function(){return o.onHover&&o.onHover.apply(o,arguments)}),onMouseleave:t[1]||(t[1]=function(){return o.onLeave&&o.onLeave.apply(o,arguments)})},[(0,a.Lk)("line",{x1:o.startPoint.x,y1:o.startPoint.y,x2:o.endPoint.x,y2:o.endPoint.y,stroke:n.aspect.color,"stroke-width":o.lineWidth,opacity:o.lineOpacity,"stroke-dasharray":o.dashPattern,class:"aspect-connection"},null,8,kt),o.isHovered?((0,a.uX)(),(0,a.CE)("circle",{key:0,cx:o.midPoint.x,cy:o.midPoint.y,r:3,fill:n.aspect.color,class:"aspect-marker"},null,8,bt)):(0,a.Q3)("",!0),o.isHovered?((0,a.uX)(),(0,a.CE)("g",Lt,[(0,a.Lk)("rect",{x:o.tooltipPosition.x-o.tooltipWidth/2,y:o.tooltipPosition.y-12,width:o.tooltipWidth,height:"24",fill:"rgba(0,0,0,0.9)",rx:"4",class:"tooltip-background"},null,8,xt),(0,a.Lk)("text",{x:o.tooltipPosition.x,y:o.tooltipPosition.y,fill:"white","font-size":"10","font-weight":"500","text-anchor":"middle","dominant-baseline":"middle",class:"tooltip-text"},(0,s.v_)(o.aspectDescription),9,Rt)])):(0,a.Q3)("",!0)],32)}n(113),n(8111),n(116);const Pt={name:"AspectLine",props:{aspect:{type:Object,required:!0},planets:{type:Array,required:!0},center:{type:Number,required:!0},radius:{type:Number,required:!0}},setup:function(e){var t=(0,oe.KR)(!1),n=(0,a.EW)((function(){return e.planets.find((function(t){return t.name===e.aspect.planet1}))})),s=(0,a.EW)((function(){return e.planets.find((function(t){return t.name===e.aspect.planet2}))})),o=(0,a.EW)((function(){if(!n.value)return{x:0,y:0};var t=n.value.svgAngle*Math.PI/180;return{x:e.center+e.radius*Math.cos(t),y:e.center+e.radius*Math.sin(t)}})),r=(0,a.EW)((function(){if(!s.value)return{x:0,y:0};var t=s.value.svgAngle*Math.PI/180;return{x:e.center+e.radius*Math.cos(t),y:e.center+e.radius*Math.sin(t)}})),i=(0,a.EW)((function(){return{x:(o.value.x+r.value.x)/2,y:(o.value.y+r.value.y)/2}})),c=(0,a.EW)((function(){var t=i.value.x,n=i.value.y-20,a=.9*e.center,s=Math.sqrt(Math.pow(t-e.center,2)+Math.pow(n-e.center,2));if(s>a){var o=Math.atan2(n-e.center,t-e.center);return{x:e.center+a*Math.cos(o),y:e.center+a*Math.sin(o)}}return{x:t,y:n}})),l=(0,a.EW)((function(){var t={合相:{width:2,opacity:.8,dash:"none"},六分相:{width:1.5,opacity:.6,dash:"3,2"},四分相:{width:2,opacity:.7,dash:"5,3"},三分相:{width:1.5,opacity:.6,dash:"none"},对分相:{width:2,opacity:.8,dash:"2,2"}};return t[e.aspect.aspect]||{width:1,opacity:.5,dash:"none"}})),u=(0,a.EW)((function(){return t.value?l.value.width+1:l.value.width})),d=(0,a.EW)((function(){return t.value?l.value.opacity+.2:l.value.opacity})),h=(0,a.EW)((function(){return l.value.dash})),v=(0,a.EW)((function(){var t,a,o=(null===(t=n.value)||void 0===t?void 0:t.name)||e.aspect.planet1,r=(null===(a=s.value)||void 0===a?void 0:a.name)||e.aspect.planet2,i="".concat(e.aspect.orb.toFixed(1),"°");return"".concat(o," ").concat(e.aspect.aspect," ").concat(r," (").concat(i,")")})),p=(0,a.EW)((function(){return Math.max(6*v.value.length,120)})),g=function(){t.value=!0},y=function(){t.value=!1};return{isHovered:t,startPoint:o,endPoint:r,midPoint:i,tooltipPosition:c,lineWidth:u,lineOpacity:d,dashPattern:h,aspectDescription:v,tooltipWidth:p,onHover:g,onLeave:y}}},Et=(0,Ve.A)(Pt,[["render",Mt],["__scopeId","data-v-48e68821"]]),wt=Et,Ct={name:"StarChart",components:{ZodiacSector:Ue,HouseSector:it,PlanetMarker:mt,AspectLine:wt},props:{calculationResults:{type:Object,required:!0},size:{type:Number,default:500}},setup:function(e){var t=(0,oe.KR)(!1),n=(0,oe.KR)(!0),s=(0,oe.KR)(null),o=(0,oe.KR)({x:0,y:0}),r=(0,a.EW)((function(){return e.size})),i=(0,a.EW)((function(){return r.value/2})),c=(0,a.EW)((function(){try{return Ke(e.calculationResults)}catch(t){return console.error("生成星盘数据失败:",t),g()}})),l=(0,a.EW)((function(){return{outerRadius:.44*r.value,zodiacRadius:.4*r.value,houseRadius:.36*r.value,planetRadius:.32*r.value,innerRadius:.1*r.value}})),u=(0,a.EW)((function(){return s.value?{left:"".concat(o.value.x+10,"px"),top:"".concat(o.value.y-30,"px"),display:"block"}:{}})),d=function(){t.value=!t.value},h=function(){n.value=!n.value},v=function(e,t){if(s.value=e,t){var n=t.target.closest("svg").getBoundingClientRect();o.value={x:t.clientX-n.left,y:t.clientY-n.top}}},p=function(){s.value=null},g=function(){return{zodiac:[],houses:[],planets:[],aspects:[],settings:l.value}};return(0,a.sV)((function(){console.log("星盘组件已挂载，数据:",c.value)})),{showAspects:t,showHouses:n,hoveredPlanet:s,chartSize:r,center:i,chartData:c,settings:l,tooltipStyle:u,toggleAspects:d,toggleHouses:h,onPlanetHover:v,onPlanetLeave:p}}},Dt=(0,Ve.A)(Ct,[["render",_e],["__scopeId","data-v-ff03e71a"]]),At=Dt,_t={name:"ResultsPage",components:{StarChart:At},setup:function(){var e=(0,oe.KR)(500),t=function(){var t=window.innerWidth;e.value=t<480?350:t<768?400:500};return(0,a.sV)((function(){t(),window.addEventListener("resize",t)})),(0,a.xo)((function(){window.removeEventListener("resize",t)})),{chartSize:e}},computed:(0,ae.A)((0,ae.A)({},(0,se.L8)({userData:"getUserData",calculationResults:"getCalculationResults"})),{},{formatBirthDate:function(){if(!this.userData||!this.userData.birthdate)return"";var e=this.userData.birthdate.split("-");return"".concat(e[0],"年").concat(e[1],"月").concat(e[2],"日")},formatBirthTime:function(){return this.userData?"".concat(this.userData.birthHour,"時").concat(this.userData.birthMinute,"分"):""}}),methods:{getElementClass:function(e){var t={木:"element-wood",火:"element-fire",土:"element-earth",金:"element-metal",水:"element-water"};return t[e]||""},goBack:function(){this.$router.push({name:"home"})},shareChart:function(){var e=this;navigator.share?navigator.share({title:"我的星盘命盘",text:"".concat(this.userData.name,"の星盤命盤結果"),url:window.location.href})["catch"]((function(t){console.log("分享失败:",t),e.fallbackShare()})):this.fallbackShare()},fallbackShare:function(){navigator.clipboard?navigator.clipboard.writeText(window.location.href).then((function(){alert("链接已复制到剪贴板")}))["catch"]((function(){alert("请手动复制当前页面链接进行分享")})):alert("请手动复制当前页面链接进行分享")}},created:function(){this.userData&&this.calculationResults||this.$router.push({name:"home"})}},zt=(0,Ve.A)(_t,[["render",ne],["__scopeId","data-v-39889d4c"]]),Wt=zt},9868:(e,t,n)=>{var a=n(6518),s=n(9504),o=n(1291),r=n(1240),i=n(2333),c=n(9039),l=RangeError,u=String,d=Math.floor,h=s(i),v=s("".slice),p=s(1..toFixed),g=function(e,t,n){return 0===t?n:t%2===1?g(e,t-1,n*e):g(e*e,t/2,n)},y=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=function(e,t,n){var a=-1,s=n;while(++a<6)s+=t*e[a],e[a]=s%1e7,s=d(s/1e7)},m=function(e,t){var n=6,a=0;while(--n>=0)a+=e[n],e[n]=d(a/t),a=a%t*1e7},k=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var a=u(e[t]);n=""===n?a:n+h("0",7-a.length)+a}return n},b=c((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!c((function(){p({})}));a({target:"Number",proto:!0,forced:b},{toFixed:function(e){var t,n,a,s,i=r(this),c=o(e),d=[0,0,0,0,0,0],p="",b="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return u(i);if(i<0&&(p="-",i=-i),i>1e-21)if(t=y(i*g(2,69,1))-69,n=t<0?i*g(2,-t,1):i/g(2,t,1),n*=4503599627370496,t=52-t,t>0){f(d,0,n),a=c;while(a>=7)f(d,1e7,0),a-=7;f(d,g(10,a,1),0),a=t-1;while(a>=23)m(d,1<<23),a-=23;m(d,1<<a),f(d,1,1),m(d,2),b=k(d)}else f(d,0,n),f(d,1<<-t,0),b=k(d)+h("0",c);return c>0?(s=b.length,b=p+(s<=c?"0."+h("0",c-s)+b:v(b,0,s-c)+"."+v(b,s-c))):b=p+b,b}})}}]);
//# sourceMappingURL=275.2b1c688a.js.map