<template>
  <div class="lesson-container">
    <AppNavigation />
    
    <LanguageSwitcher 
      :compact="isMobile"
      :show-names="!isMobile"
      @language-changed="onLanguageChanged"
    />
    
    <header class="header">
      <nav class="breadcrumb">
        <router-link to="/learn">{{ $t('nav.learn') }}</router-link>
        <span class="separator">â€º</span>
        <router-link to="/learn/category/astrology">{{ $t('learn.categories.astrology') }}</router-link>
        <span class="separator">â€º</span>
        <span class="current">{{ $t('lesson.lessonContent.astrologyAspects.breadcrumb') }}</span>
      </nav>
      <h1 class="title">{{ $t('lesson.lessonContent.astrologyAspects.title') }}</h1>
      <div class="lesson-meta">
        <span class="category">{{ $t('learn.categories.astrology') }}</span>
        <span class="difficulty">{{ $t('learn.difficulty.intermediate') }}</span>
        <span class="duration">{{ $t('learn.readTime', { minutes: 26 }) }}</span>
      </div>
    </header>

    <div class="content-container">
      <article class="lesson-content">
        <div class="lesson-intro">
          <h2>{{ $t('lesson.lessonContent.common.overview') }}</h2>
          <p>{{ $t('lesson.lessonContent.astrologyAspects.intro') }}</p>
        </div>

        <div class="lesson-objectives">
          <h3>{{ $t('lesson.lessonContent.common.objectives') }}</h3>
          <ul>
            <li>{{ $t('lesson.lessonContent.astrologyAspects.objectives.obj1') }}</li>
            <li>{{ $t('lesson.lessonContent.astrologyAspects.objectives.obj2') }}</li>
            <li>{{ $t('lesson.lessonContent.astrologyAspects.objectives.obj3') }}</li>
            <li>{{ $t('lesson.lessonContent.astrologyAspects.objectives.obj4') }}</li>
          </ul>
        </div>

        <div class="lesson-body">
          <section class="content-section">
            <h3>ç›¸ä½åŸºç¡€æ¦‚å¿µ</h3>
            
            <div class="aspect-basics">
              <div class="concept-card">
                <h4>ğŸ¯ ä»€ä¹ˆæ˜¯ç›¸ä½</h4>
                <p>ç›¸ä½æ˜¯æŒ‡ä»åœ°çƒçœ‹å‘ä¸¤é¢—è¡Œæ˜Ÿæ—¶å½¢æˆçš„è§’åº¦å…³ç³»ã€‚è¿™äº›è§’åº¦åæ˜ äº†è¡Œæ˜Ÿèƒ½é‡ä¹‹é—´çš„äº’åŠ¨æ¨¡å¼ï¼Œå¯èƒ½æ˜¯å’Œè°çš„ã€ç´§å¼ çš„æˆ–ä¸­æ€§çš„ã€‚</p>
                <div class="formula-box">
                  <strong>ç›¸ä½å®¹å·® (Orb)</strong>
                  <p>ä¸»è¦ç›¸ä½é€šå¸¸å…è®¸Â±8-10åº¦çš„è¯¯å·®èŒƒå›´</p>
                  <small>ä¾‹å¦‚ï¼šåˆç›¸0Â°Â±8Â°ï¼Œå³352Â°-8Â°ä¹‹é—´éƒ½ç®—åˆç›¸</small>
                </div>
              </div>

              <div class="concept-card">
                <h4>âš–ï¸ ç›¸ä½åˆ†ç±»</h4>
                <div class="aspect-categories">
                  <div class="category harmonious">
                    <span class="icon">âœ¨</span>
                    <div>
                      <strong>å’Œè°ç›¸ä½</strong>
                      <p>ä¸‰åˆ†ç›¸(120Â°)ã€å…­åˆ†ç›¸(60Â°)</p>
                      <small>èƒ½é‡æµåŠ¨é¡ºç•…ï¼Œå¸¦æ¥æœºä¼šå’Œå¤©èµ‹</small>
                    </div>
                  </div>
                  <div class="category challenging">
                    <span class="icon">âš¡</span>
                    <div>
                      <strong>ç´§å¼ ç›¸ä½</strong>
                      <p>å››åˆ†ç›¸(90Â°)ã€å¯¹åˆ†ç›¸(180Â°)</p>
                      <small>äº§ç”ŸåŠ¨åŠ›å’ŒæŒ‘æˆ˜ï¼Œä¿ƒè¿›æˆé•¿</small>
                    </div>
                  </div>
                  <div class="category neutral">
                    <span class="icon">ğŸ”®</span>
                    <div>
                      <strong>ä¸­æ€§ç›¸ä½</strong>
                      <p>åˆç›¸(0Â°)ã€å…¶ä»–å°ç›¸ä½</p>
                      <small>å½±å“å–å†³äºæ¶‰åŠçš„è¡Œæ˜Ÿç‰¹è´¨</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="aspect-wheel">
              <div class="wheel-visual">
                <div class="circle-chart">
                  <div class="center">ç›¸ä½è½®</div>
                  <div class="aspect-line conjunction" style="--angle: 0deg">
                    <span class="aspect-symbol">â˜Œ</span>
                    <span class="aspect-name">åˆç›¸ 0Â°</span>
                  </div>
                  <div class="aspect-line sextile" style="--angle: 60deg">
                    <span class="aspect-symbol">âš¹</span>
                    <span class="aspect-name">å…­åˆ† 60Â°</span>
                  </div>
                  <div class="aspect-line square" style="--angle: 90deg">
                    <span class="aspect-symbol">â–¡</span>
                    <span class="aspect-name">å››åˆ† 90Â°</span>
                  </div>
                  <div class="aspect-line trine" style="--angle: 120deg">
                    <span class="aspect-symbol">â–³</span>
                    <span class="aspect-name">ä¸‰åˆ† 120Â°</span>
                  </div>
                  <div class="aspect-line opposition" style="--angle: 180deg">
                    <span class="aspect-symbol">â˜</span>
                    <span class="aspect-name">å¯¹åˆ† 180Â°</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="content-section">
            <h3>ä¸»è¦ç›¸ä½è¯¦è§£</h3>
            
            <div class="aspects-detailed">
              <div class="aspect-card conjunction">
                <div class="aspect-header">
                  <div class="aspect-symbol-large">â˜Œ</div>
                  <div class="aspect-info">
                    <h4>åˆç›¸ Conjunction</h4>
                    <span class="angle">0Â° (Â±8Â°)</span>
                  </div>
                  <div class="aspect-nature neutral">ä¸­æ€§</div>
                </div>
                <div class="aspect-content">
                  <p><strong>åŸºæœ¬å«ä¹‰</strong>ï¼šä¸¤é¢—è¡Œæ˜Ÿä½ç½®é‡å ï¼Œèƒ½é‡é«˜åº¦èåˆï¼Œç›¸äº’å¼ºåŒ–</p>
                  <p><strong>å½±å“ç‰¹è´¨</strong>ï¼šå¼ºåŒ–ã€é›†ä¸­ã€çªå‡ºã€å¼€å§‹</p>
                  <div class="keywords">
                    <span class="keyword">èåˆ</span>
                    <span class="keyword">å¼ºåŒ–</span>
                    <span class="keyword">é›†ä¸­</span>
                    <span class="keyword">æ–°å¼€å§‹</span>
                  </div>
                  <div class="interpretation">
                    <h5>è§£è¯»è¦ç‚¹</h5>
                    <ul>
                      <li>åˆç›¸çš„æ€§è´¨å–å†³äºæ¶‰åŠçš„è¡Œæ˜Ÿç‰¹è´¨</li>
                      <li>é€šå¸¸è¡¨ç¤ºè¯¥é¢†åŸŸçš„å¤©èµ‹æˆ–å¼ºçƒˆé©±åŠ¨åŠ›</li>
                      <li>å¯èƒ½äº§ç”Ÿå¤±è¡¡ï¼Œéœ€è¦å­¦ä¼šå¹³è¡¡èƒ½é‡</li>
                      <li>ä»£è¡¨äººç”Ÿçš„é‡è¦ä¸»é¢˜å’Œå‘å±•æ–¹å‘</li>
                    </ul>
                  </div>
                  <div class="example">
                    <strong>ç¤ºä¾‹</strong>ï¼šå¤ªé˜³åˆé‡‘æ˜Ÿ - å…·æœ‰è‰ºæœ¯å¤©èµ‹å’Œé­…åŠ›ï¼Œé‡è§†ç¾æ„Ÿå’Œå…³ç³»
                  </div>
                </div>
              </div>

              <div class="aspect-card sextile">
                <div class="aspect-header">
                  <div class="aspect-symbol-large">âš¹</div>
                  <div class="aspect-info">
                    <h4>å…­åˆ†ç›¸ Sextile</h4>
                    <span class="angle">60Â° (Â±6Â°)</span>
                  </div>
                  <div class="aspect-nature harmonious">å’Œè°</div>
                </div>
                <div class="aspect-content">
                  <p><strong>åŸºæœ¬å«ä¹‰</strong>ï¼šæ¸©å’Œçš„å’Œè°ç›¸ä½ï¼Œå¸¦æ¥æœºä¼šå’Œæ½œåœ¨å¤©èµ‹</p>
                  <p><strong>å½±å“ç‰¹è´¨</strong>ï¼šæœºä¼šã€å¤©èµ‹ã€åˆä½œã€æ¸©å’Œæ”¯æŒ</p>
                  <div class="keywords">
                    <span class="keyword">æœºä¼š</span>
                    <span class="keyword">å¤©èµ‹</span>
                    <span class="keyword">åˆä½œ</span>
                    <span class="keyword">æ”¯æŒ</span>
                  </div>
                  <div class="interpretation">
                    <h5>è§£è¯»è¦ç‚¹</h5>
                    <ul>
                      <li>éœ€è¦ä¸»åŠ¨å‘æ˜å’Œåˆ©ç”¨å…¶æ½œèƒ½</li>
                      <li>é€šå¸¸ä¸ä¼šè‡ªåŠ¨æ˜¾ç°ï¼Œéœ€è¦åŠªåŠ›æ¿€æ´»</li>
                      <li>ä»£è¡¨å­¦ä¹ æ–°æŠ€èƒ½çš„è‰¯å¥½æ—¶æœº</li>
                      <li>æœ‰åŠ©äºå»ºç«‹æœ‰ç›Šçš„äººé™…å…³ç³»</li>
                    </ul>
                  </div>
                  <div class="example">
                    <strong>ç¤ºä¾‹</strong>ï¼šæ°´æ˜Ÿå…­åˆ†ç«æ˜Ÿ - æ€ç»´æ•æ·ï¼Œå–„äºè¡¨è¾¾ï¼Œå…·æœ‰è¯´æœåŠ›
                  </div>
                </div>
              </div>

              <div class="aspect-card square">
                <div class="aspect-header">
                  <div class="aspect-symbol-large">â–¡</div>
                  <div class="aspect-info">
                    <h4>å››åˆ†ç›¸ Square</h4>
                    <span class="angle">90Â° (Â±8Â°)</span>
                  </div>
                  <div class="aspect-nature challenging">ç´§å¼ </div>
                </div>
                <div class="aspect-content">
                  <p><strong>åŸºæœ¬å«ä¹‰</strong>ï¼šåŠ¨æ€çš„ç´§å¼ ç›¸ä½ï¼Œäº§ç”Ÿå†…åœ¨å†²çªå’Œè¡ŒåŠ¨åŠ¨åŠ›</p>
                  <p><strong>å½±å“ç‰¹è´¨</strong>ï¼šå†²çªã€æŒ‘æˆ˜ã€åŠ¨åŠ›ã€æˆé•¿</p>
                  <div class="keywords">
                    <span class="keyword">å†²çª</span>
                    <span class="keyword">æŒ‘æˆ˜</span>
                    <span class="keyword">åŠ¨åŠ›</span>
                    <span class="keyword">çªç ´</span>
                  </div>
                  <div class="interpretation">
                    <h5>è§£è¯»è¦ç‚¹</h5>
                    <ul>
                      <li>åˆ›é€ å†…åœ¨åŠ¨åŠ›ï¼Œæ¨åŠ¨ä¸ªäººæˆé•¿</li>
                      <li>éœ€è¦æ‰¾åˆ°å¹³è¡¡å’Œæ•´åˆçš„æ–¹å¼</li>
                      <li>å¯èƒ½å¸¦æ¥æŒ«æŠ˜ï¼Œä½†ä¹Ÿæ¿€å‘æ½œèƒ½</li>
                      <li>æ˜¯äººç”Ÿé‡è¦çš„æˆé•¿å¥‘æœº</li>
                    </ul>
                  </div>
                  <div class="example">
                    <strong>ç¤ºä¾‹</strong>ï¼šæœˆäº®å››åˆ†åœŸæ˜Ÿ - æƒ…æ„Ÿä¸è´£ä»»çš„å†²çªï¼Œå­¦ä¼šå¹³è¡¡æ„Ÿå—ä¸ä¹‰åŠ¡
                  </div>
                </div>
              </div>

              <div class="aspect-card trine">
                <div class="aspect-header">
                  <div class="aspect-symbol-large">â–³</div>
                  <div class="aspect-info">
                    <h4>ä¸‰åˆ†ç›¸ Trine</h4>
                    <span class="angle">120Â° (Â±8Â°)</span>
                  </div>
                  <div class="aspect-nature harmonious">å’Œè°</div>
                </div>
                <div class="aspect-content">
                  <p><strong>åŸºæœ¬å«ä¹‰</strong>ï¼šæœ€å’Œè°çš„ç›¸ä½ï¼Œèƒ½é‡æµåŠ¨è‡ªç„¶é¡ºç•…</p>
                  <p><strong>å½±å“ç‰¹è´¨</strong>ï¼šå¤©èµ‹ã€é¡ºåˆ©ã€è‡ªç„¶ã€åˆ›é€ åŠ›</p>
                  <div class="keywords">
                    <span class="keyword">å¤©èµ‹</span>
                    <span class="keyword">é¡ºåˆ©</span>
                    <span class="keyword">è‡ªç„¶</span>
                    <span class="keyword">åˆ›é€ </span>
                  </div>
                  <div class="interpretation">
                    <h5>è§£è¯»è¦ç‚¹</h5>
                    <ul>
                      <li>ä»£è¡¨å¤©ç”Ÿçš„æ‰åå’Œä¼˜åŠ¿é¢†åŸŸ</li>
                      <li>èƒ½é‡æµåŠ¨é¡ºç•…ï¼Œå°‘æœ‰é˜»ç¢</li>
                      <li>å¯èƒ½å› å¤ªå®¹æ˜“è€Œç¼ºä¹åŠ¨åŠ›</li>
                      <li>æ˜¯ä¸ªäººçš„å¹¸è¿å’Œä¿æŠ¤å› å­</li>
                    </ul>
                  </div>
                  <div class="example">
                    <strong>ç¤ºä¾‹</strong>ï¼šæœ¨æ˜Ÿä¸‰åˆ†é‡‘æ˜Ÿ - å…·æœ‰è‰ºæœ¯å¤©èµ‹ï¼Œäººé™…å…³ç³»å’Œè°ï¼Œè´¢è¿è¾ƒå¥½
                  </div>
                </div>
              </div>

              <div class="aspect-card opposition">
                <div class="aspect-header">
                  <div class="aspect-symbol-large">â˜</div>
                  <div class="aspect-info">
                    <h4>å¯¹åˆ†ç›¸ Opposition</h4>
                    <span class="angle">180Â° (Â±8Â°)</span>
                  </div>
                  <div class="aspect-nature challenging">ç´§å¼ </div>
                </div>
                <div class="aspect-content">
                  <p><strong>åŸºæœ¬å«ä¹‰</strong>ï¼šä¸¤æå¯¹ç«‹çš„ç›¸ä½ï¼Œéœ€è¦å¯»æ±‚å¹³è¡¡å’Œæ•´åˆ</p>
                  <p><strong>å½±å“ç‰¹è´¨</strong>ï¼šå¯¹ç«‹ã€å¹³è¡¡ã€è§‰çŸ¥ã€æŠ•å°„</p>
                  <div class="keywords">
                    <span class="keyword">å¯¹ç«‹</span>
                    <span class="keyword">å¹³è¡¡</span>
                    <span class="keyword">è§‰çŸ¥</span>
                    <span class="keyword">æ•´åˆ</span>
                  </div>
                  <div class="interpretation">
                    <h5>è§£è¯»è¦ç‚¹</h5>
                    <ul>
                      <li>éœ€è¦åœ¨ä¸¤ä¸ªæç«¯ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</li>
                      <li>å¸¸é€šè¿‡å…³ç³»å’Œå¤–åœ¨ç»å†å­¦ä¹ </li>
                      <li>å¯èƒ½å°†å†…åœ¨å†²çªæŠ•å°„åˆ°ä»–äººèº«ä¸Š</li>
                      <li>æœ€ç»ˆç›®æ ‡æ˜¯æ•´åˆå¯¹ç«‹çš„èƒ½é‡</li>
                    </ul>
                  </div>
                  <div class="example">
                    <strong>ç¤ºä¾‹</strong>ï¼šå¤ªé˜³å¯¹åˆ†æœˆäº® - ç†æ€§ä¸æ„Ÿæ€§çš„å¹³è¡¡ï¼Œä¸ªäººä¸å®¶åº­çš„åè°ƒ
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="content-section">
            <h3>æ¬¡è¦ç›¸ä½ç®€ä»‹</h3>
            
            <div class="minor-aspects">
              <div class="minor-aspect-grid">
                <div class="minor-aspect-item">
                  <div class="minor-symbol">âšº</div>
                  <h5>åŠå…­åˆ†ç›¸ 30Â°</h5>
                  <p>è½»å¾®çš„æœºä¼šå’Œæˆé•¿</p>
                </div>
                <div class="minor-aspect-item">
                  <div class="minor-symbol">âˆ </div>
                  <h5>åŠå››åˆ†ç›¸ 45Â°</h5>
                  <p>è½»å¾®çš„æ‘©æ“¦å’Œè°ƒæ•´</p>
                </div>
                <div class="minor-aspect-item">
                  <div class="minor-symbol">âš½</div>
                  <h5>äº”åˆ†ç›¸ 72Â°</h5>
                  <p>åˆ›é€ åŠ›å’Œæ‰å</p>
                </div>
                <div class="minor-aspect-item">
                  <div class="minor-symbol">âŒ˜</div>
                  <h5>å…«åˆ†ç›¸ 135Â°</h5>
                  <p>æŒç»­çš„å†…åœ¨å¼ åŠ›</p>
                </div>
                <div class="minor-aspect-item">
                  <div class="minor-symbol">Q</div>
                  <h5>ååˆ†ç›¸ 36Â°</h5>
                  <p>ç²¾ç¥å±‚é¢çš„è¿æ¥</p>
                </div>
                <div class="minor-aspect-item">
                  <div class="minor-symbol">âš·</div>
                  <h5>è¡¥åäºŒåˆ†ç›¸ 150Â°</h5>
                  <p>éœ€è¦è°ƒæ•´å’Œé€‚åº”</p>
                </div>
              </div>
            </div>
          </section>

          <section class="content-section">
            <h3>ç›¸ä½è§£è¯»æŠ€å·§</h3>
            
            <div class="interpretation-techniques">
              <div class="technique-section">
                <h4>ğŸ” ç›¸ä½åˆ†ææ­¥éª¤</h4>
                <div class="analysis-flow">
                  <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                      <h5>è¯†åˆ«ç›¸ä½ç±»å‹</h5>
                      <p>ç¡®å®šè§’åº¦å’Œç›¸ä½æ€§è´¨ï¼ˆå’Œè°/ç´§å¼ /ä¸­æ€§ï¼‰</p>
                    </div>
                  </div>
                  <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                      <h5>åˆ†ææ¶‰åŠè¡Œæ˜Ÿ</h5>
                      <p>ç†è§£ä¸¤é¢—è¡Œæ˜Ÿçš„åŸºæœ¬èƒ½é‡å’Œè±¡å¾æ„ä¹‰</p>
                    </div>
                  </div>
                  <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                      <h5>è€ƒè™‘å®«ä½èƒŒæ™¯</h5>
                      <p>ç»“åˆè¡Œæ˜Ÿæ‰€åœ¨å®«ä½çš„ç”Ÿæ´»é¢†åŸŸ</p>
                    </div>
                  </div>
                  <div class="flow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                      <h5>æ•´åˆå…¨é¢è§£è¯»</h5>
                      <p>å°†ç›¸ä½å«ä¹‰èå…¥æ•´ä½“æ˜Ÿç›˜åˆ†æ</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="technique-section">
                <h4>ğŸ’¡ å®ç”¨è§£è¯»æŠ€å·§</h4>
                <div class="tips-grid">
                  <div class="tip-card">
                    <h5>ç›¸ä½å®¹å·®åˆ¤æ–­</h5>
                    <p>è¶Šç´§å¯†çš„ç›¸ä½å½±å“è¶Šå¼ºçƒˆï¼Œå°¤å…¶æ˜¯å®¹å·®åœ¨3åº¦ä»¥å†…çš„ç²¾ç¡®ç›¸ä½ã€‚</p>
                  </div>
                  <div class="tip-card">
                    <h5>åº”ç”¨ä¸åˆ†ç¦»</h5>
                    <p>åº”ç”¨ç›¸ä½ï¼ˆé€æ¸é è¿‘ï¼‰æ¯”åˆ†ç¦»ç›¸ä½ï¼ˆé€æ¸è¿œç¦»ï¼‰å½±å“æ›´å¼ºã€‚</p>
                  </div>
                  <div class="tip-card">
                    <h5>è¡Œæ˜Ÿé‡è¦æ€§</h5>
                    <p>æ¶‰åŠä¸ªäººè¡Œæ˜Ÿï¼ˆå¤ªé˜³åˆ°ç«æ˜Ÿï¼‰çš„ç›¸ä½æ¯”å¤–è¡Œæ˜Ÿç›¸ä½æ›´ç›´æ¥å½±å“ä¸ªæ€§ã€‚</p>
                  </div>
                  <div class="tip-card">
                    <h5>ç›¸ä½æ¨¡å¼</h5>
                    <p>æ³¨æ„Tä¸‰è§’ã€å¤§ä¸‰è§’ã€å¤§åå­—ç­‰ç›¸ä½å›¾å½¢ï¼Œå®ƒä»¬æœ‰ç‰¹æ®Šæ„ä¹‰ã€‚</p>
                  </div>
                </div>
              </div>

              <div class="technique-section">
                <h4>âš¡ å¸¸è§ç›¸ä½ç»„åˆ</h4>
                <div class="combinations">
                  <div class="combination-item">
                    <strong>å¤ªé˜³-æœˆäº®ç›¸ä½</strong>
                    <p>å†…åœ¨è‡ªæˆ‘ä¸æƒ…æ„Ÿéœ€æ±‚çš„å…³ç³»ï¼Œå½±å“ä¸ªæ€§çš„ç»Ÿä¸€æ€§å’Œå†…åœ¨å¹³è¡¡ã€‚</p>
                  </div>
                  <div class="combination-item">
                    <strong>é‡‘æ˜Ÿ-ç«æ˜Ÿç›¸ä½</strong>
                    <p>çˆ±æƒ…ä¸æ¿€æƒ…çš„ç»“åˆï¼Œå½±å“æ„Ÿæƒ…å…³ç³»å’Œåˆ›é€ åŠ›çš„è¡¨è¾¾æ–¹å¼ã€‚</p>
                  </div>
                  <div class="combination-item">
                    <strong>æ°´æ˜Ÿ-æœ¨æ˜Ÿç›¸ä½</strong>
                    <p>æ€ç»´ä¸æ™ºæ…§çš„è¿æ¥ï¼Œå½±å“å­¦ä¹ èƒ½åŠ›å’Œå“²å­¦è§‚å¿µçš„å½¢æˆã€‚</p>
                  </div>
                  <div class="combination-item">
                    <strong>åœŸæ˜Ÿç›¸ä½</strong>
                    <p>æ¶‰åŠåœŸæ˜Ÿçš„ç›¸ä½å¸¸æŒ‡å‘éœ€è¦æ‰¿æ‹…è´£ä»»å’Œé¢å¯¹æŒ‘æˆ˜çš„ç”Ÿæ´»é¢†åŸŸã€‚</p>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>

        <div class="lesson-practice">
          <h3>ç›¸ä½ç»ƒä¹ </h3>
          <div class="practice-box">
            <p>é€šè¿‡å®é™…æ¡ˆä¾‹ç»ƒä¹ ç›¸ä½åˆ†æï¼Œæå‡è§£è¯»æ˜Ÿç›˜ä¸­è¡Œæ˜Ÿäº’åŠ¨å…³ç³»çš„èƒ½åŠ›ã€‚å¼€å§‹æ‚¨çš„ç›¸ä½è§£è¯»ä¹‹æ—…ï¼</p>
            <button class="practice-btn" @click="startPractice">
              åˆ†ææˆ‘çš„ç›¸ä½é…ç½®
            </button>
          </div>
        </div>

        <div class="lesson-navigation">
          <router-link to="/learn/astrology/houses" class="nav-btn prev-btn">
            â† ä¸Šä¸€è¯¾ï¼šå®«ä½è¯¦è§£
          </router-link>
          <router-link to="/learn/astrology/birth-chart" class="nav-btn next-btn">
            ä¸‹ä¸€è¯¾ï¼šæ˜Ÿç›˜ç»¼åˆè§£è¯» â†’
          </router-link>
        </div>
      </article>
    </div>

    <footer class="footer">
      <p>{{ $t('footer.copyright') }}</p>
    </footer>
  </div>
</template>

<script>
import LanguageSwitcher from '../../components/LanguageSwitcher.vue'
import AppNavigation from '../../components/AppNavigation.vue'
import i18nMixin from '../../mixins/i18n.js'

export default {
  name: 'AstrologyAspects',
  mixins: [i18nMixin],
  
  components: {
    LanguageSwitcher,
    AppNavigation
  },
  
  computed: {
    isMobile() {
      return window.innerWidth <= 768
    }
  },
  
  mounted() {
    document.title = 'ç›¸ä½è¯¦è§£ - ' + this.$t('app.title')
    
    const metaDescription = document.querySelector('meta[name="description"]')
    if (metaDescription) {
      metaDescription.setAttribute('content', 'æ·±å…¥å­¦ä¹ å æ˜Ÿå­¦ç›¸ä½ç³»ç»Ÿï¼ŒæŒæ¡è¡Œæ˜Ÿé—´è§’åº¦å…³ç³»çš„å«ä¹‰ï¼Œç†è§£å’Œè°ä¸ç´§å¼ ç›¸ä½çš„å½±å“ã€‚')
    }
    
    this.handleResize = () => {
      this.$forceUpdate()
    }
    window.addEventListener('resize', this.handleResize)
  },
  
  beforeUnmount() {
    window.removeEventListener('resize', this.handleResize)
  },
  
  methods: {
    onLanguageChanged(language) {
      console.log('Language changed to:', language)
    },
    
    startPractice() {
      this.$router.push('/')
    }
  }
}
</script>

<style scoped>
.lesson-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 80px 20px 20px 20px;
  font-family: 'Noto Sans JP', sans-serif;
  color: #333;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header styles - reuse pattern */
.header {
  margin-bottom: 40px;
}

.breadcrumb {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
  font-size: 0.9rem;
  color: #666;
}

.breadcrumb a {
  color: #d35400;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.separator {
  color: #ccc;
}

.current {
  color: #666;
}

.title {
  font-size: 2.2rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: #2c3e50;
  font-family: 'Shippori Mincho', serif;
}

.lesson-meta {
  display: flex;
  gap: 15px;
  align-items: center;
  font-size: 0.9rem;
}

.category {
  background: #e67e22;
  color: white;
  padding: 4px 10px;
  border-radius: 12px;
  font-weight: 500;
}

.difficulty {
  background: #fff3e0;
  color: #f57c00;
  padding: 4px 10px;
  border-radius: 12px;
  font-weight: 500;
}

.duration {
  color: #666;
  font-weight: 500;
}

/* Content */
.content-container {
  flex: 1;
}

.lesson-content {
  background: white;
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
}

.lesson-intro {
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid #f0f0f0;
}

.lesson-intro h2 {
  font-size: 1.5rem;
  color: #2c3e50;
  margin-bottom: 15px;
  font-family: 'Shippori Mincho', serif;
}

.lesson-intro p {
  font-size: 1.1rem;
  line-height: 1.7;
  color: #555;
}

.lesson-objectives {
  margin-bottom: 30px;
}

.lesson-objectives h3 {
  font-size: 1.3rem;
  color: #2c3e50;
  margin-bottom: 15px;
  font-family: 'Shippori Mincho', serif;
}

.lesson-objectives ul {
  padding-left: 20px;
}

.lesson-objectives li {
  margin-bottom: 10px;
  line-height: 1.6;
  color: #555;
}

.content-section {
  margin-bottom: 40px;
}

.content-section h3 {
  font-size: 1.3rem;
  color: #2c3e50;
  margin-bottom: 15px;
  font-family: 'Shippori Mincho', serif;
}

.content-section p {
  line-height: 1.7;
  color: #555;
  margin-bottom: 15px;
}

/* Aspect Basics */
.aspect-basics {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 25px;
  margin: 25px 0;
}

.concept-card {
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
  border-left: 4px solid #9b59b6;
}

.concept-card h4 {
  color: #9b59b6;
  margin-bottom: 15px;
  font-family: 'Shippori Mincho', serif;
}

.formula-box {
  background: white;
  padding: 15px;
  border-radius: 8px;
  margin-top: 15px;
  border-left: 3px solid #9b59b6;
}

.formula-box strong {
  color: #2c3e50;
  display: block;
  margin-bottom: 8px;
}

.formula-box small {
  color: #666;
  font-style: italic;
}

/* Aspect Categories */
.aspect-categories {
  display: grid;
  gap: 15px;
  margin-top: 15px;
}

.category {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: white;
  border-radius: 8px;
}

.category .icon {
  font-size: 1.5rem;
}

.category strong {
  display: block;
  margin-bottom: 3px;
  color: #2c3e50;
}

.category p {
  margin: 0;
  font-size: 0.9rem;
  color: #666;
}

.category small {
  font-size: 0.8rem;
  color: #999;
}

/* Aspect Wheel */
.aspect-wheel {
  margin: 30px 0;
  display: flex;
  justify-content: center;
}

.wheel-visual {
  position: relative;
  width: 350px;
  height: 350px;
}

.circle-chart {
  position: relative;
  width: 100%;
  height: 100%;
  border: 3px solid #9b59b6;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.center {
  position: absolute;
  background: #9b59b6;
  color: white;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  z-index: 10;
}

.aspect-line {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 140px;
  height: 2px;
  transform-origin: 0 0;
  transform: rotate(var(--angle)) translateY(-1px);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 5px;
}

.aspect-line.conjunction { background: #34495e; }
.aspect-line.sextile { background: #27ae60; }
.aspect-line.square { background: #e74c3c; }
.aspect-line.trine { background: #f39c12; }
.aspect-line.opposition { background: #8e44ad; }

.aspect-symbol {
  background: white;
  padding: 4px 6px;
  border-radius: 4px;
  font-size: 0.9rem;
  font-weight: 600;
  transform: rotate(calc(-1 * var(--angle)));
}

.aspect-name {
  background: white;
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 500;
  transform: rotate(calc(-1 * var(--angle)));
  white-space: nowrap;
}

/* Aspects Detailed */
.aspects-detailed {
  display: grid;
  gap: 25px;
  margin: 25px 0;
}

.aspect-card {
  background: white;
  border: 1px solid #e9ecef;
  border-radius: 12px;
  padding: 20px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.aspect-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.aspect-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #f0f0f0;
}

.aspect-symbol-large {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: 700;
  margin-right: 15px;
}

.aspect-info {
  flex: 1;
}

.aspect-info h4 {
  margin: 0 0 5px 0;
  color: #2c3e50;
  font-size: 1.3rem;
  font-family: 'Shippori Mincho', serif;
}

.angle {
  color: #666;
  font-size: 0.9rem;
}

.aspect-nature {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  color: white;
}

.aspect-nature.harmonious { background: #27ae60; }
.aspect-nature.challenging { background: #e74c3c; }
.aspect-nature.neutral { background: #95a5a6; }

.aspect-content p {
  margin-bottom: 10px;
  line-height: 1.5;
  font-size: 0.9rem;
}

.aspect-content strong {
  color: #9b59b6;
}

.keywords {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 15px 0;
}

.keyword {
  background: #e8f5e8;
  color: #2d5a2d;
  padding: 3px 8px;
  border-radius: 8px;
  font-size: 0.8rem;
  font-weight: 500;
}

.interpretation {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.interpretation h5 {
  color: #2c3e50;
  margin-bottom: 10px;
  font-family: 'Shippori Mincho', serif;
}

.interpretation ul {
  padding-left: 15px;
  margin: 0;
}

.interpretation li {
  font-size: 0.9rem;
  line-height: 1.4;
  margin-bottom: 5px;
}

.example {
  background: #fff3e0;
  padding: 12px;
  border-radius: 8px;
  border-left: 3px solid #f39c12;
}

.example strong {
  color: #2c3e50;
  display: block;
  margin-bottom: 5px;
}

/* Minor Aspects */
.minor-aspects {
  margin: 25px 0;
}

.minor-aspect-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.minor-aspect-item {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
  border-left: 3px solid #9b59b6;
}

.minor-symbol {
  font-size: 1.5rem;
  margin-bottom: 8px;
  color: #9b59b6;
}

.minor-aspect-item h5 {
  color: #2c3e50;
  margin: 0 0 8px 0;
  font-family: 'Shippori Mincho', serif;
}

.minor-aspect-item p {
  margin: 0;
  font-size: 0.8rem;
  color: #666;
}

/* Interpretation Techniques */
.interpretation-techniques {
  display: grid;
  gap: 25px;
  margin: 25px 0;
}

.technique-section {
  background: #f8f9fa;
  border-radius: 12px;
  padding: 20px;
  border-left: 4px solid #9b59b6;
}

.technique-section h4 {
  color: #9b59b6;
  margin-bottom: 15px;
  font-family: 'Shippori Mincho', serif;
}

/* Analysis Flow */
.analysis-flow {
  display: grid;
  gap: 15px;
}

.flow-step {
  display: flex;
  align-items: center;
  gap: 15px;
  background: white;
  padding: 15px;
  border-radius: 8px;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #9b59b6;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1.1rem;
}

.step-content h5 {
  color: #2c3e50;
  margin: 0 0 5px 0;
  font-family: 'Shippori Mincho', serif;
}

.step-content p {
  margin: 0;
  font-size: 0.9rem;
  color: #666;
}

/* Tips Grid */
.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.tip-card {
  background: white;
  padding: 15px;
  border-radius: 8px;
  border-left: 3px solid #9b59b6;
}

.tip-card h5 {
  color: #2c3e50;
  margin: 0 0 8px 0;
  font-family: 'Shippori Mincho', serif;
}

.tip-card p {
  margin: 0;
  font-size: 0.9rem;
  line-height: 1.4;
}

/* Combinations */
.combinations {
  display: grid;
  gap: 15px;
}

.combination-item {
  background: white;
  padding: 15px;
  border-radius: 8px;
  border-left: 3px solid #9b59b6;
}

.combination-item strong {
  display: block;
  color: #2c3e50;
  margin-bottom: 8px;
  font-family: 'Shippori Mincho', serif;
}

.combination-item p {
  margin: 0;
  font-size: 0.9rem;
  line-height: 1.4;
}

/* Practice and Navigation */
.practice-box {
  background: #fff;
  border: 2px solid #9b59b6;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
}

.practice-btn {
  background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 20px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 15px;
}

.practice-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(155, 89, 182, 0.3);
}

.lesson-navigation {
  display: flex;
  justify-content: space-between;
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid #f0f0f0;
}

.nav-btn {
  display: inline-block;
  color: #9b59b6;
  text-decoration: none;
  padding: 10px 20px;
  border: 2px solid #9b59b6;
  border-radius: 20px;
  font-weight: 500;
  transition: all 0.3s ease;
}

.nav-btn:hover {
  background: #9b59b6;
  color: white;
  transform: translateY(-1px);
}

/* Footer */
.footer {
  text-align: center;
  font-size: 0.9rem;
  color: #95a5a6;
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid #f0f0f0;
}

/* Responsive Design */
@media (max-width: 768px) {
  .lesson-container {
    padding: 70px 15px 15px 15px;
  }
  
  .title {
    font-size: 1.8rem;
  }
  
  .lesson-meta {
    flex-wrap: wrap;
    gap: 10px;
  }
  
  .lesson-content {
    padding: 20px;
  }
  
  .aspect-basics {
    grid-template-columns: 1fr;
  }
  
  .wheel-visual {
    width: 280px;
    height: 280px;
  }
  
  .aspect-line {
    width: 110px;
  }
  
  .aspect-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .minor-aspect-grid {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }
  
  .tips-grid {
    grid-template-columns: 1fr;
  }
  
  .lesson-navigation {
    flex-direction: column;
    gap: 15px;
  }
  
  .nav-btn {
    text-align: center;
  }
}

@media (max-width: 480px) {
  .title {
    font-size: 1.5rem;
  }
  
  .wheel-visual {
    width: 240px;
    height: 240px;
  }
  
  .aspect-line {
    width: 90px;
  }
  
  .center {
    width: 60px;
    height: 60px;
    font-size: 0.8rem;
  }
  
  .aspect-symbol-large {
    width: 50px;
    height: 50px;
    font-size: 1.5rem;
  }
}
</style>